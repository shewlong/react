(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1057:function(e,t,a){},1070:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(6),o=a.n(r),s=a(44),l=a(539),c=a(21),u=a(31),d=a(113),m=(a(405),a(251)),h=a(11),p=a.n(h),A=a(12),f=a.n(A),g=a(13),y=a.n(g),v=a(14),E=a.n(v),b=a(15),k=a.n(b),w=(n.Component,a(51),a(9)),C=a(4),I=a.n(C),S=a(5),N=a.n(S),D=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"onClickSend",(function(){})),a.state={},a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"page"},"示范页面",i.a.createElement("div",null,i.a.createElement(w.a,{onClick:this.onClickSend},"发送")))}}]),t}(n.Component);N()(D,"defaultProps",{}),N()(D,"propTypes",{});a(207);var B,M,R,O,L,j=a(93),T=(a(152),a(68)),z=(a(109),a(25)),Q=(a(208),a(8)),x=(a(209),a(69)),F=a(78),P=a.n(F),G=(a(63),a(20)),V=(a(110),a(30)),Z={IDcard:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,mobile:/^1([3|4|5|7|8|])\d{9}$/,telephone:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,num:/^[0-9]*$/,phoneNo:/(^1([3|4|5|7|8|])\d{9}$)|(^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$)/,policeNo:/^[0-9A-Za-z]{4,10}$/,pwd:/^[0-9A-Za-z]{6,16}$/,isNumAlpha:/^[0-9A-Za-z]*$/,isAlpha:/^[a-zA-Z]*$/,isNumAlphaCn:/^[0-9a-zA-Z\u4E00-\uFA29]*$/,isPostCode:/^[\d-]*$/i,isNumAlphaUline:/^[0-9a-zA-Z_]*$/,isNumAndThanZero:/^([1-9]\d*(\.\d+)?|0)$/,isNormalEncode:/^(\w||[\u4e00-\u9fa5]){0,}$/,isTableName:/^[a-zA-Z][A-Za-z0-9#$_-]{0,29}$/,isInt:/^-?\d+$/,isTableOtherName:/^[\u4e00-\u9fa5]{0,20}$/,isText_30:/^(\W|\w{1}){0,30}$/,isText_50:/^(\W|\w{1}){0,50}$/,isText_20:/^(\W|\w{1}){0,20}$/,isText_100:/^(\W|\w{1}){0,100}$/,isText_250:/^(\W|\w{1}){0,250}$/,isNotChina:/^[^\u4e00-\u9fa5]{0,}$/,IDcardAndAdmin:/^(([1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X))|(admin))$/,IDcardTrim:/^\s*(([1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X))|(admin))\s*$/,num1:/^[1-9]*$/,companyNO:/^qqb_[0-9a-zA-Z_]{1,}$/,imgType:/image\/(png|jpg|jpeg|gif)$/,isChina:/^[\u4e00-\u9fa5]{2,8}$/,isNozeroNumber:/^\+?[1-9]\d*$/,float:/^\d+(\.?|(\.\d+)?)$/},H=a(96),Y=a(54),W=Object(H.a)("request login"),K=Object(H.a)("receive login"),J=Object(d.createAjaxAction)(Y.b,W,K),U=(Object(H.a)("set gform cache2"),Object(H.a)("clear gform cache2")),X=a(263),q=a(259),$=a.n(q),_=a(1),ee=a.n(_),te=a(527),ae=a.n(te),ne=(a(654),Object(s.b)((function(e,t){return{config:e.config}}))((R=M=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"onMouseEnter",(function(){a.gather||a.updateTweenData(),a.componentWillUnmount()})),N()(I()(a),"onMouseLeave",(function(){a.gather&&a.updateTweenData(),a.interval=$.a.interval(a.updateTweenData,a.intervalTime)})),N()(I()(a),"createPointData",(function(){var e=a.props,t=e.w,n=e.h,i=document.getElementById("canvas"),r=i.getContext("2d");r.clearRect(0,0,t,n),i.width=a.props.w,i.height=n;var o=new Image;o.onload=function(){r.drawImage(o,0,0,o.width,o.height,0,0,t,n);var e=r.getImageData(0,0,t,n).data;a.setDataToDom(e,t,n),a.dom.removeChild(i)},o.crossOrigin="anonymous",o.src=a.props.image})),N()(I()(a),"gatherData",(function(){var e=a.state.children&&a.state.children.map((function(e){return i.a.cloneElement(e,{animation:{x:0,y:0,opacity:1,scale:1,delay:500*Math.random(),duration:800,ease:"easeInOutQuint"}})}));a.setState({children:e})})),N()(I()(a),"disperseData",(function(){var e=a.dom.getBoundingClientRect(),t=a.sideBox.getBoundingClientRect(),n=t.top-e.top,r=t.left-e.left,o=a.state.children.map((function(t){return i.a.cloneElement(t,{animation:{x:Math.random()*e.width-r-t.props.style.left,y:Math.random()*e.height-n-t.props.style.top,opacity:.4*Math.random()+.1,scale:2.4*Math.random()+.1,duration:500*Math.random()+500,ease:"easeInOutQuint"}})}));a.setState({children:o})})),N()(I()(a),"updateTweenData",(function(){a.dom=a.componentDom,a.sideBox=document.querySelector(".right-side"),(a.gather&&a.disperseData||a.gatherData)(),a.gather=!a.gather})),a.state={},a.interval=null,a.gather=!0,a.intervalTime=9e3,a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.dom=this.componentDom,this.createPointData()}},{key:"componentWillUnmount",value:function(){$.a.clear(this.interval),this.interval=null}},{key:"setDataToDom",value:function(e,t,a){var n=this;this.pointArray=[];for(var r=this.props.pixSize,o=0;o<t;o+=r)for(var s=0;s<a;s+=r)e[4*(o+s*t)+3]>150&&this.pointArray.push({x:o,y:s});var l=[];this.pointArray.forEach((function(e,t){var a=Math.random()*n.props.pointSizeMin+n.props.pointSizeMin,r=.4*Math.random()+.1;l.push(i.a.createElement(X.a,{className:"point-wrapper",key:e.x*a,style:{left:e.x,top:e.y}},i.a.createElement(X.a,{className:"point",style:{width:a,height:a,opacity:r,backgroundColor:"rgb(".concat(Math.round(95*Math.random()+160),",255,255)")},animation:{y:10*(2*Math.random()-1)||5,x:5*(2*Math.random()-1)||2.5,delay:1e3*Math.random(),repeat:-1,duration:3e3,yoyo:!0,ease:"easeInOutQuad"}})))})),this.setState({children:l,boxAnim:{opacity:0,type:"from",duration:800}},(function(){n.interval=$.a.interval(n.updateTweenData,n.intervalTime)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"logo-gather-demo-wrapper",ref:function(t){return e.componentDom=t}},i.a.createElement("canvas",{id:"canvas"}),i.a.createElement(X.a,{animation:this.state.boxAnim,className:"right-side blur",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:function(t){e.sideBoxComp=t}},this.state.children))}}]),t}(n.Component),N()(M,"propTypes",{image:ee.a.string,w:ee.a.number,h:ee.a.number,pixSize:ee.a.number,pointSizeMin:ee.a.number}),N()(M,"defaultProps",{image:ae.a,w:1038,h:280,pixSize:20,pointSizeMin:8}),B=R))||B),ie=a(116),re=a.n(ie),oe=a(262),se=(a(659),V.a.Item),le=Object(s.b)((function(e,t){return{config:e.config,loginResponse:e.loginResponse}}))(O=V.a.create({onFieldsChange:function(e,t){}})(O=function(e){function t(e,a){var n;return p()(this,t),(n=y()(this,E()(t).call(this,e))).state={loading:!1,isCertificates:!1,show:!0},n}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.dispatch(U({})),this.props.form.setFieldsValue({username:"username",password:"123456"})}},{key:"handleSubmit",value:function(e,t){var a=this;e.preventDefault(),t?G.a.warning("证书登录功能未开通"):this.props.form.validateFields((function(e,t){if(!e){var n=a.props.form.getFieldsValue();a.setState({loading:!0}),t.password=re()(t.password),a.props.dispatch(J(t,(function(e){sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("ticket",e.data.ticket),Object(Y.f)({},(function(e){var t=e.data.list||[];t&&t[0]&&(sessionStorage.setItem("gMenuList",P()(t)),sessionStorage.setItem("topMenuReskey",t[0].resKey),sessionStorage.setItem("leftNav",P()(t)),Object(Y.g)({usercode:n.username},(function(e){sessionStorage.setItem("userinfo",P()(e.data)),u.e.push("/")}),(function(e){G.a.warning(e.msg),a.setState({loading:!1})})))}),(function(e){a.setState({loading:!1})}))}),(function(e){G.a.warning(e.msg),a.setState({loading:!1})})))}}))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement("div",{className:"login-container"},i.a.createElement("div",{className:"extraLink"}),i.a.createElement("div",{className:"flexcolumn"},i.a.createElement("div",{className:"login-header",key:"header"},i.a.createElement("div",{className:"slogan"},i.a.createElement(oe.a,{className:"flexcolumn",type:["right","left"],key:"p"},this.state.show?[i.a.createElement("p",{key:"0",className:"title"},c.b)]:null)),i.a.createElement(ne,null)),i.a.createElement("div",{className:"login-main"},i.a.createElement(oe.a,{delay:300,type:"bottom",key:"row"},this.state.show?[i.a.createElement(j.a,{key:"row0"},i.a.createElement(x.a,{span:8}),i.a.createElement(x.a,{span:8},i.a.createElement(T.a,{spinning:this.state.loading},i.a.createElement(V.a,{onSubmit:function(t){return e.handleSubmit(t,e.state.isCertificates)}},this.state.isCertificates?i.a.createElement(se,null,i.a.createElement(w.a,{type:"primary",htmlType:"submit"},"证书登录")):i.a.createElement("div",null,i.a.createElement(se,{hasFeedback:!0},t("username",{rules:[{required:!0,min:4,max:10,message:"用户名为4-10个字符"},{pattern:Z.policeNo,message:"账号4-10位数字或字母组成"}]})(i.a.createElement(z.a,{addonBefore:i.a.createElement(Q.a,{type:"user"}),placeholder:"请输入用户名",type:"text"}))),i.a.createElement(se,{hasFeedback:!0},t("password",{rules:[{required:!0,min:6,max:16,message:"密码为6-16个字符"},{pattern:Z.pwd,message:"密码由6-16位数字或者字母组成"}]})(i.a.createElement(z.a,{addonBefore:i.a.createElement(Q.a,{type:"lock"}),placeholder:"请输入密码",type:"password"}))),i.a.createElement(se,null,i.a.createElement(w.a,{type:"primary",htmlType:"submit",className:"cert-btn"},"登录")))))),i.a.createElement(x.a,{span:8}))]:null)),i.a.createElement(oe.a,{component:"div",className:"login-footer",delay:600,type:"bottom",key:"footer"},this.state.show?[i.a.createElement("p",{key:"0"}," 浙江七巧板信息科技股份有限公司 ")]:null)))}}]),t}(n.Component))||O)||O,ce=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={},a}return k()(t,e),f()(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"developing notfound"},i.a.createElement(m.a,{type:"circle",percent:100,format:function(){return"404"},width:200,status:"active"}),i.a.createElement("div",{className:"link ptbig"},i.a.createElement("p",{className:"mbbig"},i.a.createElement(u.b,{to:"/"},"跳转至首页")),i.a.createElement("p",{className:"mbbig"},i.a.createElement(u.b,{to:"/login"},"跳转至登陆页")),i.a.createElement(w.a,{type:"primary",onClick:function(){return u.e.goBack()}},"返回上一页")))}}]),t}(n.Component),ue=(a(742),a(540)),de=(a(355),a(195),a(532)),me=a.n(de),he=(a(744),a(516),a(58)),pe=(a(301),a(162)),Ae=a(45),fe=a.n(Ae),ge=a(47),ye=a.n(ge),ve=a(33),Ee=a.n(ve),be=a(34),ke=a.n(be),we=a(35),Ce=a.n(we),Ie=a(40),Se=a.n(Ie),Ne=a(28),De=a.n(Ne);function Be(e,t){var a=Se()(e);if(Ce.a){var n=Ce()(e);t&&(n=n.filter((function(t){return ke()(e,t).enumerable}))),a.push.apply(a,n)}return a}var Me=V.a.Item,Re=Object(s.b)((function(e,t){return{config:e.config}}))(L=V.a.create({})(L=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"checkPassword",(function(e,t,n){var i=a.props.form;t&&t!==i.getFieldValue("password")?n("两次输入的密码不一致"):n()})),N()(I()(a),"checkConfirm",(function(e,t,n){var i=a.props.form;t&&a.state.confirmDirty&&i.validateFields(["confirm"],{force:!0}),n()})),a.state={confirmDirty:!1},a.handleSubmit=a.handleSubmit.bind(I()(a)),a.checkConfirm=a.checkConfirm.bind(I()(a)),a.checkPassword=a.checkPassword.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){if(!e){a.password&&(a.password=re()(a.password));var n={oldPwd:a.oldPwd?a.oldPwd:"",password:a.password?a.password:""};t.submitLoading=!0,t.props.dispatch((void 0)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(a,!0).forEach((function(t){N()(e,t,a[t])})):Ee.a?ye()(e,Ee()(a)):Be(a).forEach((function(t){fe()(e,t,ke()(a,t))}))}return e}({},n),(function(e){G.a.success(e.msg),t.submitLoading=!1,t.setState({}),t.props.onCancel()}),(function(e){G.a.warning(e.msg),t.props.form.setFields({oldPwd:"",password:"",confirm:""}),t.submitLoading=!1,t.setState({})})))}}))}},{key:"renderFooter",value:function(){return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary",size:"large",onClick:this.handleSubmit,loading:this.submitLoading},"确定"),i.a.createElement(w.a,{size:"large",onClick:this.props.onCancel},"取消"))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:12},hasFeedback:!0};return i.a.createElement(pe.a,{className:"",visible:this.props.visible,title:"修改密码",onCancel:this.props.onCancel,footer:this.renderFooter()},i.a.createElement("div",{className:"modalcontent"},i.a.createElement(V.a,{layout:"horizontal",autoComplete:"off"},i.a.createElement(j.a,null,i.a.createElement(x.a,{span:"24"},i.a.createElement(Me,De()({},t,{label:"原密码"}),e("oldPwd",{rules:[{required:!0,message:"请输入密码！"},{pattern:Z.pwd,message:"请输入6-16位数字或者字母!"},{validator:this.checkConfirm}]})(i.a.createElement(z.a,{type:"password",placeholder:"请输入密码"}))))),i.a.createElement(j.a,null,i.a.createElement(x.a,{span:"24"},i.a.createElement(Me,De()({},t,{label:"新密码"}),e("password",{rules:[{required:!0,message:"请输入密码！"},{pattern:Z.pwd,message:"请输入6-16位数字或者字母!"},{validator:this.checkConfirm}]})(i.a.createElement(z.a,{type:"password",placeholder:"请输入密码"}))))),i.a.createElement(j.a,null,i.a.createElement(x.a,{span:"24"},i.a.createElement(Me,De()({},t,{label:"确认新密码"}),e("confirm",{rules:[{required:!0,message:"请输入密码！"},{pattern:Z.pwd,message:"请输入6-16位数字或者字母!"},{validator:this.checkPassword}]})(i.a.createElement(z.a,{type:"password",placeholder:"请输入密码"}))))))))}}]),t}(n.Component))||L)||L,Oe=(a(751),function(e){function t(e,a){var n;return p()(this,t),n=y()(this,E()(t).call(this,e,a)),N()(I()(n),"initDrawer",(function(){n.popup=document.createElement("div"),n.popup.setAttribute("class","drawers"),document.body.appendChild(n.popup),n.renderDrawer(),n.setTrasformClass()})),N()(I()(n),"setTrasformClass",(function(){var e=n.props.visible;(void 0===e||e)&&n.setState({drawTrasformClass:"draw-enter",maskTrasformClass:"mask-enter"},(function(){setTimeout((function(){n.setState({drawTrasformClass:"",maskTrasformClass:""})}),300)}))})),N()(I()(n),"removeDrawer",(function(){n.setState({drawTrasformClass:"draw-leave",maskTrasformClass:"mask-leave"},(function(){setTimeout((function(){n.setState({drawTrasformClass:"",maskTrasformClass:""}),document.body.removeChild(n.popup),document.body.classList.remove("body-drawer"),o.a.unmountComponentAtNode(n.popup),n.props.onCancel()}),250)}))})),N()(I()(n),"getDrawerSize",(function(e){switch(e){case"sm":n.setState({drawerSizeClass:"drawer-sm"});break;case"lg":n.setState({drawerSizeClass:"drawer-lg"});break;default:n.setState({drawerSizeClass:"drawer-base"})}})),n.state={drawTrasformClass:"",maskTrasformClass:"",drawerSizeClass:"modal-base"},n}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){document.body.classList.add("body-drawer")}},{key:"componentDidMount",value:function(){var e=this.props.visible;(void 0===e||e)&&this.initDrawer();var t=this.props.size,a=void 0===t?"default":t;this.getDrawerSize(a),this.setTrasformClass()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidUpdate",value:function(){var e=this.props.visible;(void 0===e||e)&&this.renderDrawer()}},{key:"componentWillUnmount",value:function(){var e=this;this.renderDrawer({drawTrasformClass:"draw-leave",maskTrasformClass:"mask-leave"}),setTimeout((function(){document.body.classList.remove("body-drawer"),o.a.unmountComponentAtNode(e.popup)}),300)}},{key:"renderDrawer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.props,n=a.title,r=void 0===n?"标题":n,s=a.footer,l=void 0===s?null:s,c=this.state.drawerSizeClass,u=t.drawTrasformClass||this.state.drawTrasformClass,d=t.maskTrasformClass||this.state.maskTrasformClass;o.a.render(i.a.createElement("div",{className:"drawer-wrap"},i.a.createElement("div",{className:"".concat(d," ant-modal-mask"),onClick:function(){return e.removeDrawer()}}),i.a.createElement("div",{className:"".concat(u," draw ").concat(c," ").concat(this.props.className)},i.a.createElement("div",{className:"ant-modal"},i.a.createElement("div",{className:"ant-modal-content"},i.a.createElement("button",{className:"ant-modal-close"},i.a.createElement("span",{className:"ant-modal-close-x",onClick:function(){return e.removeDrawer()}})),i.a.createElement("div",{className:"ant-modal-header"},i.a.createElement("div",{className:"ant-modal-title"},r)),i.a.createElement(Le,{context:this.context},this.props.children),l?i.a.createElement("div",{className:"ant-modal-footer"},l):null)))),this.popup)}},{key:"render",value:function(){return null}}]),t}(n.Component));Oe.contextTypes={form:ee.a.object,vertical:ee.a.bool,store:ee.a.object};var Le=function(e){function t(){return p()(this,t),y()(this,E()(t).apply(this,arguments))}return k()(t,e),f()(t,[{key:"getChildContext",value:function(){return{form:this.props.context.form,vertical:this.props.context.vertical,store:this.props.context.store}}},{key:"render",value:function(){return i.a.createElement("div",{className:"ant-modal-body"},this.props.children)}}]),t}(n.Component);Le.childContextTypes={form:ee.a.object,vertical:ee.a.string,store:ee.a.object};a(752);var je,Te,ze,Qe,xe,Fe=V.a.Item,Pe=Object(s.b)((function(e,t){return{config:e.config}}))(je=V.a.create({onFieldsChange:function(e,t){}})(je=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"handleSubmit",(function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){a.setState({submitLoading:!0});var n=re()(t.password),i=re()(t.oldPass);n=re()(t.password),i=re()(t.oldPass),Object(Y.updatePwd)({password:n,oldPassword:i},(function(e){G.a.info(e.msg),a.setState({submitLoading:!1})}),(function(e){G.a.error(e.msg),a.setState({submitLoading:!1})}))}}))})),a.state={pswFlag:!1,submitLoading:!1},a.checkNewPassword=a.checkNewPassword.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"checkNewPassword",value:function(e,t,a){var n=this.props.form;t&&t!==n.getFieldValue("password")?a("两次密码输入不一致"):a()}},{key:"footer",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"gout-btn"},i.a.createElement(w.a,{type:"primary",onClick:this.props.handleLogout},"退出")))}},{key:"render",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("userinfo")),a=this.props.form.getFieldDecorator,n={labelCol:{span:7},wrapperCol:{span:16}},r="";return t&&t.roles.map((function(e,t){r+="".concat(e.roleName,"，")})),r=r.substring(0,r.length-1),i.a.createElement(Oe,{visible:!0,className:"drawer-sm",title:"用户信息",onCancel:this.props.onCancel,footer:this.footer()},i.a.createElement("div",{className:"user"},i.a.createElement("div",{className:"user-img"},i.a.createElement("img",{src:"",alt:""})),i.a.createElement("div",{className:"user-info"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("span",null,"姓名"),i.a.createElement("b",null,t.chineseName)),i.a.createElement("li",null,i.a.createElement("span",null,"手机号"),i.a.createElement("b",null,t.phoneNo)),i.a.createElement("li",null,i.a.createElement("span",null,"短号"),i.a.createElement("b",null,t.shortPhoneNo)),i.a.createElement("li",null,i.a.createElement("span",null,"单位"),i.a.createElement("b",null,t.deptName)),i.a.createElement("li",null,i.a.createElement("span",null,"职务"),i.a.createElement("b",null,t.post)),i.a.createElement("li",null,i.a.createElement("span",null,"用户角色"),i.a.createElement("b",null,r)),i.a.createElement("li",{className:"changePsw_in"},i.a.createElement("span",null,"修改密码"),i.a.createElement("i",{className:"enter",onClick:function(){return e.setState({pswFlag:!0})}},"修改")),this.state.pswFlag?i.a.createElement("div",{className:"changePswWrap"},i.a.createElement("div",{className:"changePsw"},i.a.createElement("div",{className:"changePsw_title"},"修改密码"),i.a.createElement(V.a,{layout:"horizontal",onSubmit:this.handleSubmit},i.a.createElement(Fe,De()({},n,{label:"原密码",hasFeedback:!0}),a("oldPass",{initialValue:"",rules:[{required:!0,message:"请输入原密码"},{pattern:Z.pwd,message:"密码由6-16位数字或者字母组成"}]})(i.a.createElement(z.a,{placeholder:"请输入原密码",type:"password"}))),i.a.createElement(Fe,De()({},n,{label:"新密码",hasFeedback:!0}),a("password",{initialValue:"",rules:[{required:!0,message:"请输入新密码"},{pattern:Z.pwd,message:"密码由6-16位数字或者字母组成"},{validator:this.checkRepeatPassword}]})(i.a.createElement(z.a,{placeholder:"请输入新密码",type:"password"}))),i.a.createElement(Fe,De()({},n,{label:"确认新密码",hasFeedback:!0}),a("checkPass",{initialValue:"",rules:[{required:!0,message:"确认新密码"},{validator:this.checkNewPassword}]})(i.a.createElement(z.a,{placeholder:"确认新密码",type:"password"}))),i.a.createElement("div",{className:"changePsw_btngroup"},i.a.createElement(w.a,{type:"primary",htmlType:"submit",loading:this.state.submitLoading},"确定"),i.a.createElement(w.a,{type:"defalut",htmlType:"reset",onClick:function(){return e.setState({pswFlag:!1})}},"取消"))))):""))))}}]),t}(n.Component))||je)||je,Ge=pe.a.confirm,Ve=Object(s.b)((function(e,t){return{config:e.config,staffResponse:e.staffResponse}}))(Te=function(e){function t(e,a){var n;return p()(this,t),n=y()(this,E()(t).call(this,e)),N()(I()(n),"cancel",(function(){n.setState({editPasswordMadalIsOpen:!1})})),N()(I()(n),"handleOk",(function(){n.setState({editPasswordMadalIsOpen:!1})})),N()(I()(n),"editPasswordOpen",(function(){n.setState({editPasswordMadalIsOpen:!0})})),N()(I()(n),"logoClick",(function(){})),n.state={loading:!1,userInfo:!1,editPasswordMadalIsOpen:!1},n.handleLogout=n.handleLogout.bind(I()(n)),n}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){}},{key:"handleLogout",value:function(){var e=this.props.config;Ge({title:"提示",content:"确认退出登录吗？",onOk:function(){Object(Y.e)({},(function(t){1===t.status?(sessionStorage.clear(),e.staff={},u.e.push("/login")):G.a.warning(t.msg)}))}})}},{key:"getUserInfo",value:function(){this.setState({userInfo:!0})}},{key:"onCancel",value:function(){this.setState({userInfo:!1})}},{key:"render",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("userinfo"))||{},a=[];t&&t.roles&&t.roles.map((function(e){a.push(e.roleName)}));var n="";sessionStorage.getItem("userinfo")&&(n=JSON.parse(sessionStorage.getItem("userinfo")).chineseName);i.a.createElement(he.a,{className:"nav-dropmenu"},i.a.createElement(he.a.Item,{key:"1"},i.a.createElement(Q.a,{type:"caret-up"}),i.a.createElement("span",{className:"label"},"角色： "),i.a.createElement("span",{className:"value",title:a.join(",")},a.join(",")||"---")),i.a.createElement(he.a.Divider,null),i.a.createElement(he.a.Item,{key:"2"},i.a.createElement("span",{className:"label"},"警号： "),i.a.createElement("span",{className:"value"},t.policeCode||"---")),i.a.createElement(he.a.Divider,null),i.a.createElement(he.a.Item,{key:"3"},i.a.createElement("span",{className:"label"},"职务： "),i.a.createElement("span",{className:"value"},t.duty||"---")),i.a.createElement(he.a.Divider,null),i.a.createElement(he.a.Item,{key:"4"},i.a.createElement(j.a,null,i.a.createElement(x.a,{span:12},i.a.createElement(w.a,{type:"primary",size:"small",onClick:this.editPasswordOpen},"修改密码")),i.a.createElement(x.a,{span:12},i.a.createElement(w.a,{type:"primary",size:"small",onClick:this.handleLogout},"退出登录")))));var r=this.props,o=r.gMenuList,s=r.topMenuReskey;return i.a.createElement("header",{id:"navbar"},i.a.createElement("div",{id:"navbar-container",className:"boxed"},i.a.createElement(j.a,{className:"row"},i.a.createElement(x.a,{span:20},i.a.createElement("div",{className:"navbar-brand",title:c.b,onClick:this.logoClick},i.a.createElement("span",{className:"brand-title"},i.a.createElement("span",{className:"brand-text"},i.a.createElement("span",{className:"logo"}),c.b))),i.a.createElement("nav",{className:"topMenus hide"},o&&o.map((function(t,a){return i.a.createElement("span",{className:t.resKey===s?"topMenu on":"topMenu",key:a,onClick:function(){return e.props.topMenuClick(t,a)}},t.resName)})))),i.a.createElement(x.a,{span:4,className:"col"},i.a.createElement("div",{className:"right"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{onClick:function(){return e.getUserInfo()}},n)),i.a.createElement("li",null,i.a.createElement("a",{onClick:this.handleLogout},"退出"))))))),this.state.editPasswordMadalIsOpen?i.a.createElement(Re,{handleOk:this.handleOk,visible:this.state.editPasswordMadalIsOpen,onCancel:this.cancel}):null,this.state.userInfo?i.a.createElement(Pe,{onCancel:function(){return e.onCancel()},handleLogout:this.handleLogout}):null)}}]),t}(n.Component))||Te,Ze=(a(414),a(384),he.a.SubMenu),He=Object(s.b)((function(e,t){return{config:e.config}}))(ze=function(e){function t(e,a){var n;return p()(this,t),n=y()(this,E()(t).call(this,e,a)),N()(I()(n),"init",(function(){n.openKeys(n.props.location.pathname);var e=n.state.menu,t=[];e.map((function(e,a){t.push("sub".concat(a+1))})),n.setState({rootSubmenuKeys:t})})),N()(I()(n),"openKeys",(function(e){var t=n.state.menu,a="".concat(e.split("$")[0]).replace("/","");if(""!==a){var i=0;e:for(var r=0;r<t.length;r+=1){var o=t[r];if(i+=1,o.resKey&&a===o.resKey.split("$")[0].replace("/",""))break e;if(o.children&&o.children.length>0)for(var s=0;s<o.children.length;s+=1){var l=o.children[s];if(o.resKey&&a===l.resKey.split("$")[0].replace("/",""))break e}}n.setState({openKeys:["sub".concat(i-1)]})}else n.setState({openKeys:["sub1"]})})),N()(I()(n),"_handleClick",(function(e){n.props.dispatch(U({})),u.e.push("/".concat(e.key))})),N()(I()(n),"onOpenChange",(function(e){var t=e.find((function(e){return-1===n.state.openKeys.indexOf(e)}));-1===n.state.rootSubmenuKeys.indexOf(t)?n.setState({openKeys:e}):n.setState({openKeys:t?[t]:[]})})),N()(I()(n),"navMini",(function(){n.setState({menuStyle:!n.state.menuStyle},(function(){n.props.leftNavMode(n.state.menuStyle)}))})),N()(I()(n),"renderLeftNav",(function(e){return n.state.menu.map((function(e,t){if(!e.children||0===e.children.length)return i.a.createElement(he.a.Item,{key:e.resKey?e.resKey:e.id,name:e.resName,style:{paddingLeft:0}},i.a.createElement("i",{className:"qqbicon qqbicon-".concat(e.resIcon),title:e.resName}),i.a.createElement("span",{className:"menu-name"},e.resName));var a="sub".concat(t);return i.a.createElement(Ze,{key:a,title:i.a.createElement("span",null,i.a.createElement("i",{className:"qqbicon qqbicon-".concat(e.resIcon),title:e.resName}),i.a.createElement("span",{className:"menu-name"},e.resName))},e.children.map((function(e,t){return i.a.createElement(he.a.Item,{key:e.resKey?e.resKey:e.id,name:e.resName},i.a.createElement("i",{className:"qqbicon qqbicon-".concat(e.resIcon),title:e.resName}),i.a.createElement("span",{className:"menu-name"},e.resName))})))}))})),N()(I()(n),"leftMenuHighLight",(function(){var e=n.props.location.pathname,t=[e.replace("/","")];return("/"===e||e.indexOf("desk$/index")>-1)&&(t=["desk$/index"]),t})),n.state={openKeys:[],menuStyle:!1,rootSubmenuKeys:[],menu:JSON.parse(sessionStorage.getItem("leftNav"))||[]},n}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillReceiveProps",value:function(e){this.props.location.pathname!==e.location.pathname&&this.openKeys(e.location.pathname)}},{key:"render",value:function(){var e=this,t=this.state,a=t.openKeys,n=t.menuStyle;return i.a.createElement("div",{className:n?"LeftNavMini":""},i.a.createElement("nav",{id:"mainnav-container",className:"mainnav-container"},i.a.createElement("div",{className:"LeftNav-control",onClick:function(){return e.navMini()}},i.a.createElement("i",{className:"qqbicon qqbicon-navcontrol"})),i.a.createElement(T.a,{spinning:!1},i.a.createElement(he.a,{onClick:this._handleClick,theme:"dark",openKeys:a,onOpenChange:this.onOpenChange,selectedKeys:this.leftMenuHighLight(),mode:"inline",inlineIndent:"16",inlineCollapsed:n},this.renderLeftNav()))))}}]),t}(n.Component))||ze,Ye=Object(s.b)((function(e,t){return{}}))(Qe=function(e){function t(e,a){var n;return p()(this,t),n=y()(this,E()(t).call(this,e)),N()(I()(n),"getMenuId",(function(e,t){n.topMenuReskeyFlag="",n.topMenuReskeyChild=[],n.flag=!1,e&&e.length>0&&n.compare(e,t)})),N()(I()(n),"changeMenuStyle",(function(e){n.setState({menuStyle:e},(function(){sessionStorage.setItem("menuStyle",e)}))})),N()(I()(n),"topMenuClick",(function(e,t){if(e.children)if(sessionStorage.setItem("topMenuReskey",e.resKey),n.setState({topMenuReskey:e.resKey}),"controlCenter"===e.resKey){var a=!1;e.children.map((function(e){"screen$/default"===e.resKey&&(a=!0)})),a?u.e.push(e.children[0].resKey):u.e.push("mission$/my$")}else e.children[0]&&e.children[0]&&e.children[0].children&&e.children[0].children[0]?u.e.push(e.children[0].children[0].resKey):u.e.push(e.children[0].resKey);else G.a.info("顶级菜单至少要有一个下级菜单")})),n.state={menuStyle:!1,leftNav:[],topMenuReskey:"platformManage",gMenuList:[],idRenderChild:!1,isIframe:!1},n}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"init",value:function(){var e=this;G.a.config({duration:3}),"false"===sessionStorage.getItem("menuStyle")&&this.setState({menuStyle:!1}),"true"===sessionStorage.getItem("menuStyle")&&this.setState({menuStyle:!0});var t=this.props.location.query;if(t.ticket)Object(d.validateTickit)(this.props.location,(function(t){e.setState({idRenderChild:!0})}));else if(t.key)Object(Y.c)({},(function(a){sessionStorage.setItem("key",t.key),e.setState({idRenderChild:!0})}));else{this.setState({gMenuList:JSON.parse(sessionStorage.getItem("gMenuList"))}),this.getMenuId(JSON.parse(sessionStorage.getItem("gMenuList")),this.props.location.pathname.replace("/","")),this.state.topMenuReskey!==sessionStorage.getItem("topMenuReskey")&&this.setState({topMenuReskey:sessionStorage.getItem("topMenuReskey")}),this.setState({idRenderChild:!0})}"iframe"===t.mode||t.key?this.setState({isIframe:!0}):this.setState({isIframe:!1})}},{key:"compare",value:function(e,t){var a=this;e.map((function(e){e.resKey.indexOf("platform")>-1&&(a.flag||"set$"===sessionStorage.getItem("topMenuReskey")||(a.topMenuReskeyFlag=e.resKey,a.topMenuReskeyChild=e.children));var n="".concat(e.resKey.replace(/[\$\.\?\+\^\[\]\(\)\{\}\|\\\/]/g,"\\$&").replace(/\*\*/g,"[\\w|\\W]+").replace(/\*/g,"[^\\/]+"),"$");return new RegExp(n).test(t)?(a.flag=!0,sessionStorage.setItem("menuId",e.id),sessionStorage.setItem("topMenuReskey",a.topMenuReskeyFlag),a.setState({topMenuReskey:a.topMenuReskeyFlag}),null):(e.children&&a.compare(e.children,t),null)}))}},{key:"render",value:function(){var e=this.props,t=e.location,a=e.children,n=this.state,r=n.gMenuList,o=n.idRenderChild,s=n.isIframe,l=n.topMenuReskey,c=n.leftNav,u=n.menuStyle;return i.a.createElement(ue.a,{locale:me.a},i.a.createElement("div",{id:"container"},o&&!s?i.a.createElement(Ve,{gMenuList:r,topMenuClick:this.topMenuClick,topMenuReskey:this.state.topMenuReskey}):null,i.a.createElement("div",{className:s?"boxed isIframe":"boxed"},i.a.createElement("div",{className:u?"boxed boxed-mini":"boxed"},i.a.createElement("div",{id:"content-container",className:"content-container"},i.a.createElement("div",{id:"page-content"},o?a:null))),o?i.a.createElement(He,{location:t,leftNavMode:this.changeMenuStyle,menuStyle:u,leftNav:c,topMenuReskey:l}):null)))}}]),t}(n.Component))||Qe,We=(a(418),a(185),a(89)),Ke=(a(766),a(536)),Je=(a(302),a(79)),Ue=(a(419),a(252)),Xe=(a(517),a(250)),qe=function(e){function t(){var e,a;p()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=y()(this,(e=E()(t)).call.apply(e,[this].concat(i))),N()(I()(a),"tableWidthAdaptive",(function(){a.props.className&&a.props.className.indexOf("nowrap")>-1&&(a.t=setInterval((function(){var e=document.querySelector(".ant-table-row")&&document.querySelector(".ant-table-row").querySelectorAll("td"),t=document.querySelectorAll(".ant-table-header th");if(e&&e.length){clearInterval(a.t);for(var n=0;n<e.length;n+=1){var i=e[n].offsetWidth,r=t[n].offsetWidth,o=i>r?i:r;e[n].style.minWidth="".concat(o,"px"),t[n].style.minWidth="".concat(o,"px")}}}),100))})),a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.tableWidthAdaptive()}},{key:"componentWillUnmount",value:function(){clearInterval(this.t)}},{key:"render",value:function(){var e=this.props,t=e.currentPage,a=e.pageSize,n=e.totalCount,r=e.onShowSizeChange,o=e.onChange,s=e.columns.filter((function(e){return!!e.children})).length>0;return i.a.createElement("div",{className:"table-content ".concat(s?"clear-overlap-border":"")},i.a.createElement(Xe.a,De()({pagination:!1,bordered:!0,rowKey:"id"},this.props)),t?i.a.createElement(Ue.a,De()({total:n||0,showSizeChanger:!0,showQuickJumper:!1,onShowSizeChange:r,onChange:o,showTotal:function(e){return"共 ".concat(e," 条")},current:t||1,pageSize:a||10},this.props)):null)}}]),t}(n.Component),$e=a(27),_e="usercenter",et={baseURL:c.c},tt=Object($e.a)("".concat(c.d,"/").concat(_e,"/resource/list"),et),at=Object($e.a)("".concat(c.d,"/").concat(_e,"/resource/delete"),et),nt=Object($e.a)("".concat(c.d,"/").concat(_e,"/resource/detail"),et),it=Object($e.a)("".concat(c.d,"/").concat(_e,"/resource/updateStatus"),et),rt=Object($e.a)("".concat(c.d,"/").concat(_e,"/resource/update"),et),ot=Object($e.a)("".concat(c.d,"/").concat(_e,"/resource/save"),et),st=Object($e.a)("".concat(c.d,"/").concat(_e,"/resource/button/list"),et),lt=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/list"),et),ct=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/save"),et),ut=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/update"),et),dt=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/detail"),et),mt=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/delete"),et),ht=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/resList"),et),pt=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/updateRes"),et),At=Object($e.a)("".concat(c.d,"/").concat(_e,"/user/removeRole"),et),ft=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/updateButton"),et),gt=Object($e.a)("".concat(c.d,"/").concat(_e,"/role/resTree"),et),yt=Object($e.a)("".concat(c.d,"/").concat(_e,"/dept/list"),et),vt=Object($e.a)("".concat(c.d,"/").concat(_e,"/user/list"),et),Et=Object($e.a)("".concat(c.d,"/").concat(_e,"/user/detail"),et),bt=Object($e.a)("".concat(c.d,"/").concat(_e,"/user/update"),et),kt=Object($e.a)("".concat(c.d,"/").concat(_e,"/user/save"),et),wt=(Object($e.a)("".concat(c.d,"/").concat(_e,"/user/synUser"),et),Object($e.a)("".concat(c.d,"/").concat(_e,"/user/updateRole"),et)),Ct=(Object($e.a)("".concat(c.d,"/").concat(_e,"/user/delete"),et),Object($e.a)("".concat(c.d,"/").concat(_e,"/user/updateStatus"),et)),It=(a(857),a(351)),St=It.a.TreeNode,Nt=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"onExpand",(function(e){a.setState({expandedKeys:e})})),a.state={defaultExpandedKeys:["123"],deptCode:e.curDeptCode},a.handleOnSelect=a.handleOnSelect.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.curDeptCode!==this.props.curDeptCode&&this.setState({deptCode:e.curDeptCode})}},{key:"handleOnSelect",value:function(e,t){if(t&&t.selectedNodes[0]&&t.selectedNodes[0].props&&t.selectedNodes[0].props.title){var a=t.selectedNodes[0].props.title;this.props.onSelect(e,a)}else this.props.onSelect()}},{key:"render",value:function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return t.children&&t.children.length?i.a.createElement(St,{key:t.deptCode,title:t.deptName},e(t.children)):i.a.createElement(St,{key:t.deptCode,title:t.deptName})}))}(this.props.trees);return i.a.createElement("div",null,i.a.createElement(It.a,{onSelect:this.handleOnSelect,onExpand:this.onExpand,defaultExpandedKeys:this.state.defaultExpandedKeys,selectedKeys:[this.state.deptCode]},e))}}]),t}(n.Component),Dt=(a(222),a(174),a(151),a(303),a(94));function Bt(e,t){var a=Se()(e);if(Ce.a){var n=Ce()(e);t&&(n=n.filter((function(t){return ke()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(a,!0).forEach((function(t){N()(e,t,a[t])})):Ee.a?ye()(e,Ee()(a)):Bt(a).forEach((function(t){fe()(e,t,ke()(a,t))}))}return e}var Rt,Ot=V.a.Item,Lt=Dt.a.Option,jt=V.a.create({})(xe=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={loading:!1},a.handleSubmit=a.handleSubmit.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.form.resetFields()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){e||t.setState({loading:!0},(function(){"edit"===t.props.type?bt(Mt({},a,{deptCode:t.props.deptId,id:t.props.currPeopleId}),(function(e){G.a.success(e.msg),t.state.loading=!1,t.props.handleOk()}),(function(e){G.a.warning(e.msg),t.setState({loading:!1})})):kt(Mt({},a,{deptCode:t.props.deptId}),(function(e){G.a.success(e.msg),t.state.loading=!1,t.props.handleOk()}),(function(e){G.a.warning(e.msg),t.setState({loading:!1})}))}))}))}},{key:"footer",value:function(){return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary",onClick:this.handleSubmit,loading:this.state.loading},"确定"),i.a.createElement(w.a,{onClick:this.props.onCancel},"取消"))}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.title,r=e.roleList,o=e.values,s=this.props.form.getFieldDecorator,l={labelCol:{span:5},wrapperCol:{span:17}};return(o.roleIds||[]).map((function(e,t){return o.roleIds.splice(t,1,String(e))})),i.a.createElement(Oe,{visible:t,title:n,onCancel:a,footer:this.footer(),className:"modal-header modal-body"},i.a.createElement("div",{className:"modalcontent"},i.a.createElement(V.a,{layout:"horizontal",onSubmit:this.handleSubmit},i.a.createElement(Ot,De()({},l,{label:"名称",hasFeedback:!0}),s("chineseName",{initialValue:o.chineseName||"",rules:[{required:!0,message:"请输入名称"}]})(i.a.createElement(z.a,{placeholder:"请输入名称"}))),i.a.createElement(Ot,De()({},l,{label:"身份证",hasFeedback:!0}),s("idcardNo",{initialValue:o.idcardNo||"",rules:[{required:!0,message:"请输入身份证号"},{pattern:Z.IDcard,message:"身份证号格式不正确"}]})(i.a.createElement(z.a,{placeholder:"请输入身份证号",disabled:"edit"===this.props.type}))),i.a.createElement(Ot,De()({},l,{label:"警号",hasFeedback:!0}),s("policeCode",{initialValue:o.policeCode||"",rules:[]})(i.a.createElement(z.a,{placeholder:"请输入警号"}))),i.a.createElement(Ot,De()({},l,{label:"登陆用户名",hasFeedback:!0}),s("username",{initialValue:o.username||"",rules:[{required:!0,message:"请输入4-10位数字或字母"},{pattern:Z.policeNo,message:"请输入4-10位数字或字母"}]})(i.a.createElement(z.a,{placeholder:"请输入登陆用户名",disabled:"edit"===this.props.type}))),i.a.createElement(Ot,{style:{position:"absolute",zIndex:-10}},i.a.createElement("input",{type:"password"})),"edit"===this.props.type?i.a.createElement(Ot,De()({},l,{label:"修改密码"}),s("password",{initialValue:o.password||"",rules:[{pattern:Z.pwd,message:"请输入6-16位数字或者字母"}]})(i.a.createElement(z.a,{type:"password",placeholder:"不改密码此项为空"}))):i.a.createElement(Ot,De()({},l,{label:"登陆密码",hasFeedback:!0}),s("password",{initialValue:o.password||"",rules:[{required:!0,message:"密码请输入6-16位数字或者字母"},{pattern:Z.pwd,message:"密码请输入6-16位数字或者字母"}]})(i.a.createElement(z.a,{placeholder:"请输入密码",type:"password"}))),i.a.createElement(Ot,De()({},l,{label:"手机号码",hasFeedback:!0}),s("phoneNo",{initialValue:o.phoneNo||"",rules:[{required:!0,message:"请输入手机号码"},{pattern:Z.mobile,message:"手机号码格式不正确"}]})(i.a.createElement(z.a,{placeholder:"请输入手机号码"}))),i.a.createElement(Ot,De()({},l,{label:"手机短号",hasFeedback:!0}),s("shortPhoneNo",{initialValue:o.shortPhoneNo||""})(i.a.createElement(z.a,{placeholder:"请输入手机短号"}))),i.a.createElement(Ot,De()({},l,{label:"职务",hasFeedback:!0}),s("post",{initialValue:o.post||""})(i.a.createElement(z.a,{placeholder:"请输入职务"}))),i.a.createElement(Ot,De()({},l,{label:"角色",hasFeedback:!0}),s("roleIds",{initialValue:o.roleIds||[],rules:[{required:!0,message:"请选择用户的角色"}]})(i.a.createElement(Dt.a,{mode:"multiple",placeholder:"请选择用户的角色",showSearch:!0},r.map((function(e){return i.a.createElement(Lt,{key:e.roleName,value:"".concat(e.id)},e.roleName)}))))),i.a.createElement(w.a,{className:"hide",type:"primary",htmlType:"submit"},"确定"))))}}]),t}(n.Component))||xe,Tt=(a(866),a(304),a(104)),zt=Tt.a.Group,Qt=Tt.a.Button;n.Component;function xt(e,t){var a=Se()(e);if(Ce.a){var n=Ce()(e);t&&(n=n.filter((function(t){return ke()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(a,!0).forEach((function(t){N()(e,t,a[t])})):Ee.a?ye()(e,Ee()(a)):xt(a).forEach((function(t){fe()(e,t,ke()(a,t))}))}return e}var Pt,Gt=V.a.Item,Vt=Je.a.Content,Zt=Je.a.Sider,Ht=(a(113).fetchBtns,V.a.create({})(Rt=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"handleUserInfo",(function(e){Et({id:e},(function(t){a.setState({userDetailResult:t.data,PoliceAddVisible:!0,moduletype:"edit",moduletitle:"详情",currPeopleId:e})}))})),N()(I()(a),"handleSearch",(function(e){e.preventDefault();var t=a.props.form.getFieldValue("key");a.setState({spinloading:!0,searchKey:Ft({},a.state.searchKey,{keyword:t,pageNo:1})},(function(){a.getData((function(){a.setState({spinloading:!1})}))}))})),N()(I()(a),"onSelect",(function(e,t){e&&e.length>0&&(a.setState({spinloading:!0,searchtitle:t,searchKey:Ft({},a.state.searchKey,{deptCode:e[0],pageNo:1,keyword:""})},(function(){a.getData((function(){a.setState({spinloading:!1})}))})),a.props.form.setFieldsValue({key:""}))})),N()(I()(a),"handleOk",(function(){var e=a.state.userListResult,t=a.state.searchKey.pageNo;"add"===a.state.moduletype&&e&&e.totalCount>0&&e.totalCount%10==0&&(t+=1),a.setState({PoliceAddVisible:!1,searchKey:Ft({},a.state.searchKey,{pageNo:t})},(function(){a.getData()}))})),N()(I()(a),"handleCancel",(function(){a.setState({PoliceAddVisible:!1})})),N()(I()(a),"pageChange",(function(e){a.state.searchKey.pageNo=e,a.getData()})),N()(I()(a),"pageSizeChange",(function(e,t){a.state.searchKey.pageNo=1,a.state.searchKey.pageSize=t,a.getData()})),a.state={searchtitle:"",PoliceAddVisible:!1,synchronizeLoading:!1,RoleVisible:!1,spinloading:!0,moduletitle:"",moduletype:"",currPeopleId:"",searchKey:{keyword:"",pageSize:10,pageNo:1,deptCode:""},btnRights:{view:!0,freeze:!0,delete:!0,edit:!0,add:!0},userDeptResult:{list:[],loading:!1},userListResult:{list:[],loading:!1},userDetailResult:{list:[],loading:!1},userRoleSetResult:{list:[],loading:!1}},a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){var e=this;lt({},(function(t){e.setState({userRoleSetResult:t.data})})),yt({},(function(t){t.data.list.length>0?e.setState({userDeptResult:t.data,spinloading:!1,searchKey:Ft({},e.state.searchKey,{deptCode:t.data.list[0].deptCode})},(function(){e.getData((function(){e.setState({searchtitle:"杭州市"})}))})):e.setState({spinloading:!1})}))}},{key:"componentDidMount",value:function(){this.props.form.setFieldsValue({key:""})}},{key:"getData",value:function(e){var t=this;vt(Ft({},this.state.searchKey),(function(a){t.setState({userListResult:a.data}),e&&e()}))}},{key:"handleChangeStatus",value:function(e,t){var a=this;Ct({id:e,status:t},(function(e){G.a.success(e.msg),a.getData()}))}},{key:"policeAdd",value:function(){this.state.searchKey.deptCode?this.setState({PoliceAddVisible:!0,moduletype:"add",moduletitle:"新增"}):Ke.a.error({message:"错误",description:"请先选择部门"})}},{key:"synchronize",value:function(){var e=this;G.a.info("用户数据同步中"),this.setState({synchronizeLoading:!0},(function(){Object(Y.h)({},(function(){G.a.success("用户数据同步完成"),e.setState({synchronizeLoading:!1}),e.getData()}),(function(t){G.a.warning(t.msg),e.setState({synchronizeLoading:!1})}))}))}},{key:"renderColumn",value:function(){var e=this;return[{title:"姓名",dataIndex:"chineseName",key:"chineseName",width:"15%"},{title:"职务",dataIndex:"post",key:"post",width:"15%"},{title:"帐号",dataIndex:"username",key:"username",width:"15%"},{title:"帐号状态",dataIndex:"statusLabel",key:"statusLabel",width:"15%",render:function(e,t,a){return i.a.createElement("span",null,t.status?"已冻结":"正常")}},{title:"角色",dataIndex:"roles",key:"roles",width:"20%",render:function(e,t,a){var n=[];return(e||[]).map((function(e){n.push(e.roleName)})),0===n.length?"":n.join(",")}},{title:"操作",key:"operate",render:function(t,a,n){var r=e.state.btnRights;return i.a.createElement("span",null,r.view?i.a.createElement("span",null,i.a.createElement("a",{onClick:function(){return e.handleUserInfo(a.id)}},"详情"),i.a.createElement("span",{className:"ant-divider"})):null,r.freeze?i.a.createElement("span",null,i.a.createElement(We.a,{title:"确认".concat(a.status?"解冻":"冻结","账户?"),placement:"left",onConfirm:function(){return e.handleChangeStatus(a.id,"".concat(a.status))}},i.a.createElement("a",null,a.status?"解冻账户":"冻结账户"))):null)}}]}},{key:"render",value:function(){var e=this,t=this.state,a=t.userDeptResult,n=t.userListResult,r=t.userDetailResult,o=t.userRoleSetResult,s=this.state.btnRights,l=this.props.form.getFieldDecorator,c="add"===this.state.moduletype?"":r;return i.a.createElement("div",{className:"page page-scrollfix page-usermanage"},i.a.createElement(Je.a,null,i.a.createElement(Je.a,{className:"page-body"},i.a.createElement(Zt,{width:240,style:{display:"flex",flexDirection:"column"}},i.a.createElement(T.a,{spinning:this.state.spinloading},i.a.createElement("h3",{className:"page-title"},"杭州市"),i.a.createElement("div",{className:"treeside"},i.a.createElement(Nt,{trees:a.list,curDeptCode:this.state.searchKey.deptCode,onSelect:this.onSelect})))),i.a.createElement(Vt,null,i.a.createElement("h3",{className:"page-title"},this.state.searchtitle,i.a.createElement("span",{className:"error"}," ",n.totalCount?n.totalCount:0),"人"),i.a.createElement("div",{className:"page-header"},i.a.createElement("div",{className:"layout-between"},i.a.createElement(V.a,{className:"flexrow",onSubmit:this.handleSearch},i.a.createElement(Gt,null,l("key")(i.a.createElement(z.a,{className:"input-base-width",size:"default",placeholder:"请输入关键字进行搜索"}))),i.a.createElement(w.a,{type:"primary",htmlType:"submit"},"搜索")))),i.a.createElement("div",{className:"page-content has-pagination table-flex table-scrollfix"},i.a.createElement(qe,{rowKey:"id",columns:this.renderColumn(),dataSource:n.list,currentPage:this.state.searchKey.pageNo,pageSize:this.state.searchKey.pageSize,loading:n.loading,scroll:{y:!0},onChange:this.pageChange,onShowSizeChange:this.pageSizeChange,totalCount:n.totalCount})),i.a.createElement("div",{className:"page-footer"},i.a.createElement("div",{className:"page-footer-buttons"},s.add?i.a.createElement(w.a,{type:"primary",style:{marginRight:"10px"},onClick:function(){return e.policeAdd()}}," ","新增人员"):null,s.add?i.a.createElement(w.a,{type:"primary",loading:this.state.synchronizeLoading,onClick:function(){return e.synchronize()}}," ","同步人员"):null))))),this.state.PoliceAddVisible?i.a.createElement(jt,{visible:this.state.PoliceAddVisible,title:this.state.moduletitle,handleOk:this.handleOk,values:c,deptId:this.state.searchKey.deptCode,currPeopleId:this.state.currPeopleId,type:this.state.moduletype,onCancel:this.handleCancel,roleList:o.list||[]}):null)}}]),t}(n.Component))||Rt),Yt=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"roleNameClick",(function(e,t){a.setState({currentId:e}),a.props.onCurrentIndex(e,t)})),N()(I()(a),"checkTitleId",(function(e){return e===a.state.currentId?"active cell-layout":"cell-layout"})),N()(I()(a),"roleModify",(function(e){a.props.onRoleModify(e)})),N()(I()(a),"onDelete",(function(e){a.state.currentId="",a.props.handleRoleDelete(e)})),N()(I()(a),"renderRoleNodes",(function(){var e=a.props,t=e.roles,n=e.btnRights;return t.map((function(e,t){return i.a.createElement("li",{key:t,className:a.checkTitleId(e.id)},i.a.createElement("a",{className:"name",onClick:function(){return a.roleNameClick(e.id,e.type)}},e.roleName),i.a.createElement("a",{className:"icons"},n.edit?i.a.createElement(Q.a,{title:"修改角色",type:"edit",onClick:function(){return a.roleModify(e.id)}}):null,n.deleteRole?i.a.createElement(We.a,{title:"删除?",onConfirm:function(){return a.onDelete(e.id)}},i.a.createElement(Q.a,{title:"删除角色",className:"iconMargin",type:"minus-circle-o"})):null))}))})),a.state={currentId:""},a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.props.roles.length>0&&this.setState({currentId:this.props.roles[0].id||0})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){""===this.state.currentId&&e.roles.length>0&&this.setState({currentId:e.roles[0].id||0})}},{key:"render",value:function(){return i.a.createElement("ul",{className:"roleslist"},this.renderRoleNodes())}}]),t}(n.Component),Wt=a(350),Kt=a.n(Wt),Jt=(a(389),a(421),a(124)),Ut=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={isChecked:!1},a.onChange=a.onChange.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.setState({isChecked:this.props.defaultChecked})}},{key:"componentWillReceiveProps",value:function(e){this.props.defaultChecked!==e.defaultChecked&&this.setState({isChecked:e.defaultChecked})}},{key:"onChange",value:function(e){var t=this.props.checkItem;this.setState({isChecked:e.target.checked}),this.props.onChecked(t,e.target.checked)}},{key:"render",value:function(){return i.a.createElement(Jt.a,{checked:this.state.isChecked,onChange:this.onChange,disabled:"工作台"===this.props.checkItem.resName},this.state.isChecked?"已开通":"未开通")}}]),t}(i.a.Component),Xt=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"simplifySourceData",(function(e,t){var n=Se()(e);n.length>0&&n.map((function(n){a.forAllData[e[n].id]=e[n],t[e[n].id]={},e[n].children&&a.simplifySourceData(e[n].children,t[e[n].id])}))})),N()(I()(a),"onChecked",(function(e,t){var n=a.state.checkedIds;t&&!a.onInArray(e.id,n)?(n.push(e.id),n=a.setChildsChecked(e.id),n=a.setNewFatherChecked(e.id)):!t&&a.onInArray(e.id,n)&&(n=a.removeFromArray(e.id,n),n=a.setChildsUnChecked(a.getChildById(e.id,a.simpleData),n),n=a.getFatherById(e.parentId)),a.setState({checkedIds:n},(function(){a.props.onCheckModify(n)}))})),N()(I()(a),"getChildById",(function(e,t){return Se()(t).map((function(n){n.toString()===e.toString()&&(a.checkedArr=t[n]),Se()(t[n]).length>0&&a.getChildById(e,t[n])})),a.checkedArr})),N()(I()(a),"setChildsChecked",(function(e){var t=a.state.checkedIds,n=a.forAllData[e];n.children&&n.children.length>0&&n.children.map((function(e){a.onInArray(e.id,t)||(t.push(e.id),e.children&&e.children.length>0&&a.setChildsChecked(e.id))}));return t})),N()(I()(a),"setChildsUnChecked",(function(e,t){var n=t;return Se()(e).map((function(t){a.onInArray(Kt()(t,10),n)&&(n=a.removeFromArray(Kt()(t,10),n)),Se()(e[t])&&(n=a.setChildsUnChecked(e[t],n))})),n})),a.state={checkedIds:[]},a.simpleData={},a.checkedArr={},a.fatherArr={},a.forAllData={},a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.simplifySourceData(this.props.dataSource,this.simpleData),this.props.checkedId&&this.setState({checkedIds:this.props.checkedId})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.props.checkedId!==e.checkedId&&this.setState({checkedIds:e.checkedId}),this.props.dataSource!==e.dataSource&&this.simplifySourceData(e.dataSource,this.simpleData)}},{key:"getFatherById",value:function(e){var t=this,a=this.state.checkedIds;if(this.forAllData[e]){var n=this.forAllData[e].children;if(1===n.length){a=this.removeFromArray(e,a);var i=this.forAllData[e].parentId;i&&this.getFatherById(i)}if(n.length>1){var r=0;n.map((function(e){return t.onInArray(e.id,a)?r+=1:null})),0===r&&(a=this.removeFromArray(e,a),this.getFatherById(this.forAllData[e].parentId))}}return a}},{key:"setNewFatherChecked",value:function(e){var t=this.state.checkedIds;if(this.forAllData[e]){var a=this.forAllData[e].parentId;a&&!this.onInArray(a,t)&&(t.push(a),this.setNewFatherChecked(a))}return t}},{key:"removeFromArray",value:function(e,t){for(var a=t,n=0;n<a.length;n+=1)if(a[n]===e)return a.splice(n,1),a}},{key:"onInArray",value:function(e,t){for(var a=t||[],n=0;n<a.length;n+=1)if(a[n]===e)return!0;return!1}},{key:"columns",value:function(){var e=this,t=this.props.buttonList,a=this.props.checkedId;return[{title:"功能",dataIndex:"resName",key:"resName",width:"30%"},{title:"已选模块",dataIndex:"checkedArr",key:"checkedArr",width:"40%"},{title:"操作",dataIndex:"id",width:"30%",render:function(n,r,o){return i.a.createElement("span",null,i.a.createElement("span",null,i.a.createElement(Ut,{checkItem:r,onChecked:e.onChecked,defaultChecked:e.onInArray(r.id,a),nowRoleName:e.props.nowRoleName})),i.a.createElement("span",{className:"ant-divider"}),i.a.createElement("a",{onClick:function(){return t(r.id,r.parentid)}},"按钮权限"))}}]}},{key:"render",value:function(){var e=this.props.dataSource;return i.a.createElement("div",{className:"flexcolumn roleModuleList"},i.a.createElement(qe,{rowKey:"id",columns:this.columns(),dataSource:e,scroll:{y:!0},indentSize:30}))}}]),t}(n.Component),qt=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={},a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"columns",value:function(){return[{title:"功能",dataIndex:"resName",key:"resName",width:"30%"},{title:"已选模块",dataIndex:"checkedArr",key:"checkedArr",width:"40%"}]}},{key:"render",value:function(){var e=this.props.dataSource;return i.a.createElement("div",{className:"flexcolumn roleModuleList"},i.a.createElement(qe,{rowKey:"id",columns:this.columns(),dataSource:e,scroll:{y:!0},indentSize:30}))}}]),t}(n.Component);a(312);function $t(e,t){var a=Se()(e);if(Ce.a){var n=Ce()(e);t&&(n=n.filter((function(t){return ke()(e,t).enumerable}))),a.push.apply(a,n)}return a}var _t,ea=V.a.Item,ta=Dt.a.Option,aa=V.a.create({})(Pt=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={loading:!1},a.handleSubmit=a.handleSubmit.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.form.resetFields(),this.props.form.setFieldsValue({roleName:this.props.value.roleName,sort:"".concat(this.props.value.sort),tjFlag:void 0!==this.props.value.tjFlag?String(this.props.value.tjFlag):"1"})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){e||(t.setState({loading:!0}),"modify"===t.props.type?ut(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$t(a,!0).forEach((function(t){N()(e,t,a[t])})):Ee.a?ye()(e,Ee()(a)):$t(a).forEach((function(t){fe()(e,t,ke()(a,t))}))}return e}({},a,{id:t.props.modifyId}),(function(e){G.a.success(e.msg),t.props.handleOk(!1)})):ct(a,(function(e){G.a.success(e.msg),t.props.handleOk(!1)})),t.setState({loading:!1}))}))}},{key:"footer",value:function(){var e=this.state.loading;return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary",onClick:this.handleSubmit,loading:e},"确定"),i.a.createElement(w.a,{onClick:this.props.onCancel},"取消"))}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.title,r=this.props.form.getFieldDecorator,o={labelCol:{span:5},wrapperCol:{span:17}};return i.a.createElement(Oe,{visible:t,title:n,onCancel:a,footer:this.footer(),className:"modal-header modal-body"},i.a.createElement("div",{className:"modalcontent"},i.a.createElement(V.a,{layout:"horizontal",onSubmit:this.handleSubmit},i.a.createElement(ea,De()({},o,{label:"角色名称",hasFeedback:!0}),r("roleName",{rules:[{required:!0,message:"请输入角色名称"}]})(i.a.createElement(z.a,{placeholder:"请输入角色名称"}))),i.a.createElement(ea,De()({},o,{label:"角色排序",hasFeedback:!0}),r("sort",{rules:[{required:!0,message:"请输入排序数字"},{pattern:Z.num,message:"请输入数字"}]})(i.a.createElement(z.a,{placeholder:"请输入角色排序"}))),i.a.createElement(ea,De()({},o,{label:"是否统计",hasFeedback:!0}),r("tjFlag",{initialValue:"1",rules:[{required:!0,message:"请选择是否统计"}]})(i.a.createElement(Dt.a,{placeholder:"选择是否统计"},i.a.createElement(ta,{value:"0"},"否"),i.a.createElement(ta,{value:"1"},"是")))),i.a.createElement(w.a,{className:"hide",type:"primary",htmlType:"submit"},"确定"))))}}]),t}(n.Component))||Pt,na=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={selectedRowKeys:[],loading:!1,dataSource:[]},a.change=a.change.bind(I()(a)),a.saveChecked=a.saveChecked.bind(I()(a)),a.selectChecked=a.selectChecked.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.state.selectedRowKeys=this.props.checkedIdArr[this.props.itemId]||[],this.getList()}},{key:"getList",value:function(){var e=this;this.setState({loading:!0},(function(){st({id:e.props.itemId},(function(t){var a=t.data.list,n=[];a.map((function(t){0===t.status&&(e.state.selectedRowKeys.map((function(e){t.id===e&&(t.checked=!0)})),n.push(t))})),e.setState({loading:!1,dataSource:n})}))}))}},{key:"selectChecked",value:function(){this.state.dataSource.map((function(e){e.checked=!0})),this.setState({})}},{key:"saveChecked",value:function(){var e=[];this.state.dataSource.map((function(t){t.checked&&e.push(t.id)})),this.props.saveChecked(e)}},{key:"footer",value:function(){var e=this.props.cancelButton;return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary",onClick:this.selectChecked},"全选"),i.a.createElement(w.a,{type:"primary",onClick:this.saveChecked},"确定"),i.a.createElement(w.a,{onClick:e},"取消"))}},{key:"change",value:function(e,t){var a=this.state.dataSource[t];a.checked=!a.checked,this.setState({})}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.cancelButton,r=t.title,o=this.state,s=o.loading,l=o.dataSource;return i.a.createElement(Oe,{visible:a,title:r,onCancel:n,footer:this.footer(),className:"modal-header modal-body"},i.a.createElement(T.a,{spinning:s},i.a.createElement("div",{className:"buttonLayout-lzr"},i.a.createElement(j.a,{gutter:8},l.map((function(t,a){return i.a.createElement(x.a,{span:"12",key:a},i.a.createElement(w.a,{type:t.checked?"primary":"ghost",onClick:function(){return e.change(t.id,a)},title:t.resName},t.resName))}))))))}}]),t}(n.Component);function ia(e,t){var a=Se()(e);if(Ce.a){var n=Ce()(e);t&&(n=n.filter((function(t){return ke()(e,t).enumerable}))),a.push.apply(a,n)}return a}function ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ia(a,!0).forEach((function(t){N()(e,t,a[t])})):Ee.a?ye()(e,Ee()(a)):ia(a).forEach((function(t){fe()(e,t,ke()(a,t))}))}return e}var oa,sa=V.a.Item,la=Je.a.Content,ca=Je.a.Sider,ua=Tt.a.Button,da=Tt.a.Group,ma=z.a.Search,ha=V.a.create({})(_t=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"changeTab",(function(e){"stepTree"===e.target.value?a.getTreeList():"setmodules"===e.target.value?a.getRoleList():"setpeoples"===e.target.value&&a.getPeopleList(),a.setState({activeTab:e.target.value})})),N()(I()(a),"handleCurrentIndex",(function(e,t){a.setState({currRoleId:e,roleType:t,peopleSearchKey:ra({},a.state.peopleSearchKey,{pageNo:1})},(function(){"stepTree"===a.state.activeTab?a.getTreeList():"setmodules"===a.state.activeTab?a.getRoleList():"setpeoples"===a.state.activeTab&&a.getPeopleList()}))})),N()(I()(a),"handleCheckModify",(function(e){a.resultCkecked=e})),N()(I()(a),"editSave",(function(){pt({id:a.state.currRoleId,resourceIds:a.resultCkecked},(function(e){1===e.status&&(G.a.success(e.msg),Object(Y.f)({},(function(e){sessionStorage.setItem("menu",P()(e.data.list))})))}))})),N()(I()(a),"roleAdd",(function(){a.setState({Visible:!0,title:"新增角色",type:"add"})})),N()(I()(a),"onRoleModify",(function(e){dt({id:e},(function(t){a.setState({Visible:!0,title:"修改角色",type:"modify",modifyId:e,roleDetailManagResult:t.data})}))})),N()(I()(a),"handleRoleDelete",(function(e){mt({id:e},(function(e){G.a.success(e.msg),a.getData("init")}))})),N()(I()(a),"handleDelete",(function(e){At({id:e,roleId:a.state.currRoleId},(function(e){G.a.success(e.msg),a.getPeopleList(a.state.currRoleId)}))})),N()(I()(a),"handleSearch",(function(e){e.stopPropagation();var t=a.props.form.getFieldValue("key");a.setState({peopleSearchKey:ra({},a.state.peopleSearchKey,{keyword:t})},(function(){a.getPeopleList(a.state.currRoleId)}))})),N()(I()(a),"handleOk",(function(){a.setState({Visible:!1}),lt({},(function(e){a.setState({spinloading:!1,roleListResult:e.data},(function(){if(a.state.roleListResult.list.length>=1){var t=a.state.roleListResult.list[0].id||-1;a.state.currRoleId=t;var n=e.data.list[0].type;a.state.roleType=n,"stepTree"===a.state.activeTab?a.getTreeList():"setmodules"===a.state.activeTab?a.getRoleList():"setpeoples"===a.state.activeTab&&a.getPeopleList()}}))}))})),N()(I()(a),"handleCancel",(function(){a.setState({Visible:!1})})),N()(I()(a),"pageChange",(function(e){a.setState({peopleSearchKey:ra({},a.state.peopleSearchKey,{pageNo:e})},(function(){a.getPeopleList(a.state.currRoleId)}))})),N()(I()(a),"pageSizeChange",(function(e,t){a.setState({peopleSearchKey:ra({},a.state.peopleSearchKey,{pageNo:1,pageSize:t})},(function(){a.getPeopleList(a.state.currRoleId)}))})),N()(I()(a),"buttonList",(function(e,t){a.setState({buttonVisible:!0,pid:t,itemId:e,title:"模块按钮权限列表"})})),N()(I()(a),"cancelButton",(function(){a.setState({buttonVisible:!1})})),N()(I()(a),"saveChecked",(function(e){ft({id:a.state.currRoleId,resourceIds:e,menuId:a.state.itemId},(function(e){G.a.success(e.msg),a.getRoleList(),a.cancelButton()}))})),a.state={activeTab:"stepTree",Visible:!1,title:"",type:"",currRoleId:"",modifyId:"",spinloading:!0,tabsloading:!1,tableLoading:!1,treeloading:!1,searchKey:{roleName:""},peopleSearchKey:{pageNo:1,pageSize:10},pid:"",itemId:"",buttonVisible:!1,checkedIdArr:{},btnRights:{add:!0,edit:!0,deleteRole:!0,deletePolice:!0},treeData:[],roleType:"",roleListResult:{list:[],loading:!1},roleDetailManagResult:{list:[],loading:!1},roleModuleListInRoleResult:{list:[],loading:!1},rolePeopleResult:{list:[],loading:!1}},a.resultCkecked="",a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getData("init")}},{key:"getData",value:function(e){var t=this;this.setState({spinloading:!0},(function(){lt(ra({},t.state.searchKey),(function(a){t.setState({spinloading:!1,roleListResult:a.data},(function(){if("init"===e&&t.state.roleListResult.list.length>=1){var n=t.state.roleListResult.list[0].id||-1;t.state.currRoleId=n;var i=a.data.list[0].type;t.state.roleType=i,"stepTree"===t.state.activeTab?t.getTreeList():"setmodules"===t.state.activeTab?t.getRoleList():"setpeoples"===t.state.activeTab&&t.getPeopleList()}}))}))}))}},{key:"getRoleDetail",value:function(){var e=this;this.setState({tabsloading:!0},(function(){dt({id:e.state.currRoleId},(function(t){e.resultCkecked=t.data.resourceIds||[],e.setState({tabsloading:!1,roleDetailManagResult:t.data})}),(function(t){G.a.warning(t.msg),e.setState({tabsloading:!1})}))}))}},{key:"getTreeList",value:function(){var e=this;this.setState({treeloading:!0},(function(){gt({id:e.state.currRoleId},(function(t){e.state.checkedIdArr={},t.data&&t.data.list.map((function(t){e.hangdleButton(t)})),e.setState({treeloading:!1,treeData:t.data.list})}),(function(t){G.a.warning(t.msg),e.setState({treeloading:!1,treeData:[]})}))}))}},{key:"getRoleList",value:function(){var e=this;ht({id:this.state.currRoleId},(function(t){e.state.checkedIdArr={},e.setState({roleModuleListInRoleResult:t.data}),t.data.list.map((function(t){e.hangdleButton(t)})),e.getRoleDetail()}))}},{key:"hangdleButton",value:function(e){var t=this,a=[],n=[],i=e.buttons;(i&&i.length>0?(i.map((function(e){a.push(e.resName),n.push(e.id)})),e.checkedArr=a.join(","),this.state.checkedIdArr[e.id]=n):e.checkedArr="",e.children&&e.children.length>0)&&e.children.map((function(e){t.hangdleButton(e)}))}},{key:"getPeopleList",value:function(){var e=this;this.setState({tableLoading:!0},(function(){vt(ra({},e.state.peopleSearchKey,{roleId:e.state.currRoleId}),(function(t){e.setState({tableLoading:!1,rolePeopleResult:t.data})}))}))}},{key:"handleRoleSearch",value:function(e){var t=this;this.setState({searchKey:{roleName:e}},(function(){t.getData()}))}},{key:"renderColumn",value:function(){var e=this,t=this.state.btnRights,a=[{title:"姓名",dataIndex:"chineseName",key:"chineseName",width:200},{title:"单位",dataIndex:"deptName",key:"deptName",width:200},{title:"职务",dataIndex:"post",key:"post",width:200},{title:"账号",dataIndex:"username",key:"username",width:150},{title:"操作",key:"operate",width:100,render:function(a,n,r){return t.deletePolice?i.a.createElement("span",{className:"blue"},i.a.createElement(We.a,{title:"删除?",placement:"left",onConfirm:function(){return e.handleDelete(n.id)}},i.a.createElement("a",null,"删除"))):null}}];return sessionStorage.getItem("roleName"),a}},{key:"returnContent",value:function(e){if("setmodules"===e){var t=this.state.roleModuleListInRoleResult;return i.a.createElement(T.a,{spinning:this.state.tabsloading},i.a.createElement(Xt,{dataSource:t.list,loading:t.loading,checkedId:this.resultCkecked,onCheckModify:this.handleCheckModify,roleType:this.state.roleType,buttonList:this.buttonList}))}if("setpeoples"===e){var a=this.state.rolePeopleResult;return i.a.createElement("div",{className:"has-pagination table-flex flexcolumn"},i.a.createElement(T.a,{spinning:this.state.tableLoading},i.a.createElement(qe,{rowKey:"id",columns:this.renderColumn(),dataSource:a.list,loading:a.loading,currentPage:this.state.peopleSearchKey.pageNo,pageSize:this.state.peopleSearchKey.pageSize,scroll:{y:!0},onChange:this.pageChange,onShowSizeChange:this.pageSizeChange,totalCount:a.totalCount||0})),i.a.createElement("div",{className:"page-footer"}))}return"stepTree"===e?i.a.createElement(T.a,{spinning:this.state.treeloading},i.a.createElement(qt,{dataSource:this.state.treeData})):null}},{key:"render",value:function(){var e=this,t=this.state,a=t.roleDetailManagResult,n=t.roleListResult,r=t.activeTab,o=this.props.form.getFieldDecorator,s=this.state.btnRights;return i.a.createElement("div",{className:"page page-scrollfix page-usermanage page-rolemanage"},i.a.createElement(Je.a,null,i.a.createElement(Je.a,{className:"page-body"},i.a.createElement(ca,{width:240,style:{display:"flex",flexDirection:"column"}},i.a.createElement(T.a,{spinning:this.state.spinloading},i.a.createElement(sa,null,i.a.createElement(ma,{style:{width:"100%"},placeholder:"搜索角色",onSearch:function(t){return e.handleRoleSearch(t)},addonAfter:s.add?i.a.createElement(Q.a,{type:"plus",title:"新增角色",onClick:this.roleAdd}):null})),i.a.createElement("div",{className:"treeside"},i.a.createElement(Yt,{roles:n.list||[],handleRoleDelete:this.handleRoleDelete,onRoleModify:this.onRoleModify,onCurrentIndex:this.handleCurrentIndex,btnRights:s})))),i.a.createElement(la,null,i.a.createElement("div",{className:"page-header"},i.a.createElement("div",{className:"layout-between"},i.a.createElement("div",{className:"left"},i.a.createElement(w.a,{type:"primary",className:"setpeoples"===r||"stepTree"===r?"hide":null,onClick:this.editSave},"保存"),i.a.createElement("div",{className:"setpeoples"===r?"page-search":"hide"},i.a.createElement(V.a,{className:"flexrow"},i.a.createElement(sa,null,o("key")(i.a.createElement(z.a,{className:"input-base-width",size:"default",placeholder:"请输入关键字进行搜索"}))),i.a.createElement(w.a,{type:"primary",onClick:this.handleSearch},"搜索")))),i.a.createElement("div",{className:"right"},i.a.createElement(da,{onChange:this.changeTab,defaultValue:"stepTree"},i.a.createElement(ua,{value:"stepTree"},"角色树"),i.a.createElement(ua,{value:"setmodules"},"模块选择"),i.a.createElement(ua,{value:"setpeoples"},"列表"))))),i.a.createElement("div",{className:"page-content table-flex table-scrollfix"},this.returnContent(this.state.activeTab))))),this.state.Visible?i.a.createElement(aa,{visible:this.state.Visible,title:this.state.title,onCancel:this.handleCancel,handleOk:this.handleOk,value:"modify"===this.state.type?a:{name:"",sort:""},type:this.state.type,modifyId:this.state.modifyId}):null,this.state.buttonVisible?i.a.createElement(na,{title:"按钮权限列表",visible:this.state.buttonVisible,pid:this.state.pid,itemId:this.state.itemId,cancelButton:this.cancelButton,saveChecked:this.saveChecked,checkedIdArr:this.state.checkedIdArr}):null)}}]),t}(n.Component))||_t,pa=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={},a}return k()(t,e),f()(t,[{key:"renderColumn",value:function(){var e=this.props,t=e.onDelete,a=e.onModify,n=e.onUpdataStatus,r=e.onAddNode,o=e.buttonList;return[{title:"功能",dataIndex:"resName",width:"40%",key:"resName",render:function(e,t,a){return i.a.createElement("span",null,e)}},{title:"操作",width:"40%",key:"operation",render:function(e,s,l){return i.a.createElement("span",null,i.a.createElement("a",{onClick:function(){return r(s.id)}},"新增"),i.a.createElement("span",{className:"ant-divider"}),i.a.createElement("a",{onClick:function(){return a(s.id,s.parentid)}},"修改"),e.children&&e.children.length>0?null:i.a.createElement("span",null,i.a.createElement("span",{className:"ant-divider"}),i.a.createElement(We.a,{title:"删除?",onConfirm:function(){return t(s.id)}},i.a.createElement("a",null,"删除"))),"模块管理"!==s.resName?i.a.createElement("span",null,i.a.createElement("span",{className:"ant-divider"}),i.a.createElement(We.a,{title:"确定".concat(e.status?"显示":"隐藏","该模块?"),onConfirm:function(){return n(e.id,"".concat(e.status?0:1))}},i.a.createElement("a",null,e.status?"显示模块":"隐藏模块"))):null,i.a.createElement("span",{className:"ant-divider"}),i.a.createElement("a",{onClick:function(){return o(s.id,s.parentid)}},"按钮权限"))}},{title:"状态",width:"20%",render:function(e,t,a){return"模块管理"!==t.resName?i.a.createElement("span",null,t.status?i.a.createElement("span",{className:"error"},"未上线"):i.a.createElement("span",{className:"success"},"已上线")):i.a.createElement("span",{className:"success"},"已上线")}}]}},{key:"render",value:function(){var e=this.props,t=e.dataSource,a=e.loading;return i.a.createElement("div",{className:"table-scrollfix"},i.a.createElement(Xe.a,{columns:this.renderColumn(),dataSource:t,loading:a,scroll:{y:!0},pagination:!1,bordered:!0,rowKey:"id"}))}}]),t}(n.Component);function Aa(e,t){var a=Se()(e);if(Ce.a){var n=Ce()(e);t&&(n=n.filter((function(t){return ke()(e,t).enumerable}))),a.push.apply(a,n)}return a}var fa,ga=V.a.Item,ya=V.a.create({})(oa=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"upDateValue",(function(){a.props.pid&&a.props.form.setFieldsValue({parentid:a.props.pid})})),N()(I()(a),"handleSubmit",(function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||(t.resType=1,a.setState({loading:!0}),"modify"===a.props.type?rt(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Aa(a,!0).forEach((function(t){N()(e,t,a[t])})):Ee.a?ye()(e,Ee()(a)):Aa(a).forEach((function(t){fe()(e,t,ke()(a,t))}))}return e}({},t,{id:a.props.itemId}),(function(e){G.a.success(e.msg),a.setState({loading:!1},(function(){a.props.handleOk()}))})):ot(t,(function(e){G.a.success(e.msg),a.setState({loading:!1},(function(){a.props.handleOk()}))})))}))})),a.state={loading:!1},a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.form.resetFields()}},{key:"footer",value:function(){var e=this.state.loading;return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary",onClick:this.handleSubmit,loading:e},"确定"),i.a.createElement(w.a,{onClick:this.props.onCancel},"取消"))}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.title,r=this.props.form.getFieldDecorator,o={labelCol:{span:5},wrapperCol:{span:17}};return i.a.createElement(Oe,{visible:t,title:n,onCancel:a,footer:this.footer(),className:"modal-header modal-body"},i.a.createElement("div",{className:"modalcontent"},i.a.createElement(V.a,{layout:"horizontal",autoComplete:"off",onSubmit:this.handleSubmit},i.a.createElement(ga,De()({},o,{label:"上级菜单id",hasFeedback:!0}),r("parentId",{initialValue:this.props.pid||""})(i.a.createElement(z.a,{disabled:!0}))),i.a.createElement(ga,De()({},o,{label:"新增菜单名称",hasFeedback:!0}),r("resName",{rules:[{required:!0,message:"请输入菜单名称"}],initialValue:this.props.values.resName||""})(i.a.createElement(z.a,{placeholder:"请输入菜单名称"}))),i.a.createElement(ga,De()({},o,{label:"排序数字",hasFeedback:!0}),r("sort",{rules:[{required:!0,message:"请输入排序数字"},{pattern:Z.num,message:"请输入数字"}],initialValue:"".concat(this.props.values.sort||"0")})(i.a.createElement(z.a,{placeholder:"请输入菜单的排序数字"}))),i.a.createElement(ga,De()({},o,{label:"模块名称",hasFeedback:!0}),r("resModule",{rules:[{required:!0,message:"请输入模块名称"}],initialValue:this.props.values.resModule||""})(i.a.createElement(z.a,{placeholder:"请输入模块名称"}))),i.a.createElement(ga,De()({},o,{label:"关键字",hasFeedback:!0}),r("resKey",{rules:[{required:!0,message:"请输入关键字"}],initialValue:"".concat(this.props.values.resKey||"")})(i.a.createElement(z.a,{placeholder:"请输入关键字"}))),i.a.createElement(ga,De()({},o,{label:"图标名称",hasFeedback:!0}),r("resIcon",{rules:[{required:!0,message:"请输入图标名称"},{pattern:Z.isNumAlpha,message:"图标名称格式不正确"}],initialValue:"".concat(this.props.values.resIcon||"")})(i.a.createElement(z.a,{placeholder:"请输入图标名称"}))))))}}]),t}(n.Component))||oa,va=(a(872),a(352)),Ea=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"deleteButton",(function(e){at({id:e},(function(e){G.a.success(e.msg),a.props.updateList()}))})),N()(I()(a),"showOrHide",(function(e,t){it({id:e,status:t},(function(e){a.props.updateList()}))})),a.state={},a.deleteButton=a.deleteButton.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"column",value:function(){var e=this,t=e.props.editButton;return[{title:"按钮名称",dataIndex:"resName",key:"resName",width:"40%"},{title:"状态",dataIndex:"status",key:"status",width:"20%",render:function(e,t,a){return 1===e?i.a.createElement(va.a,{status:"warning",text:"未上线"}):i.a.createElement(va.a,{status:"success",text:"已上线"})}},{title:"操作",dataIndex:"caozuo",key:"caozuo",width:"40%",render:function(a,n,r){return i.a.createElement("span",null,i.a.createElement(We.a,{title:"确定".concat(1!==n.status?"下线":"上线","该按钮?"),onConfirm:function(){return e.showOrHide(n.id,"".concat(n.status))}},i.a.createElement("a",null,1!==n.status?"下线":"上线")),i.a.createElement("span",{className:"ant-divider"}),i.a.createElement("a",{onClick:function(){return t(n)}},"修改"),i.a.createElement("span",{className:"ant-divider"}),i.a.createElement(We.a,{title:"删除?",onConfirm:function(){return e.deleteButton(n.id)}},i.a.createElement("a",null,"删除")))}}]}},{key:"footer",value:function(){var e=this.props.addButton;return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary",onClick:e},"新增"))}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.cancelButton,n=e.listLoading,r=e.dataSource;return i.a.createElement(Oe,{visible:t,title:"模块按钮权限列表",onCancel:a,footer:this.footer(),size:"lg",className:"modal-header modal-body"},i.a.createElement("div",{className:"modalcontent"},i.a.createElement(qe,{rowKey:"id",columns:this.column(),dataSource:r,loading:n})))}}]),t}(n.Component),ba=V.a.Item,ka=V.a.create()(fa=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={},a.handleSubmit=a.handleSubmit.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.props.form.resetFields()}},{key:"componentDidMount",value:function(){}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){e||(a.resType=3,"edit"===t.props.state&&(a.id=t.props.buttonEditData.id),t.props.handleAdd(a))}))}},{key:"footer",value:function(){var e=this.props.onCancel;return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary",onClick:this.handleSubmit},"确定"),i.a.createElement(w.a,{onClick:e},"取消"))}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.title,r=e.buttonEditData,o=this.props.form.getFieldDecorator,s={labelCol:{span:5},wrapperCol:{span:17}};return i.a.createElement(Oe,{visible:t,title:n,onCancel:a,footer:this.footer(),className:"modal-header modal-body"},i.a.createElement("div",{className:"modalcontent"},i.a.createElement(V.a,{layout:"horizontal",autoComplete:"off",onSubmit:this.handleSubmit},i.a.createElement(ba,De()({},s,{label:"新增按钮名称",hasFeedback:!0}),o("resName",{rules:[{required:!0,message:"请输入按钮名称"}],initialValue:r.resName||""})(i.a.createElement(z.a,{placeholder:"请输入按钮名称"}))),i.a.createElement(ba,De()({},s,{label:"排序数字",hasFeedback:!0}),o("sort",{rules:[{required:!0,message:"请输入排序数字"},{pattern:Z.num,message:"请输入数字"}],initialValue:"".concat(r.sort||"0")})(i.a.createElement(z.a,{placeholder:"请输入菜单的排序数字"}))),i.a.createElement(ba,De()({},s,{label:"关键字",hasFeedback:!0}),o("resKey",{rules:[{required:!0,message:"请输入关键字"}],initialValue:"".concat(r.resKey||"")})(i.a.createElement(z.a,{placeholder:"请输入关键字"}))))))}}]),t}(n.Component))||fa;function wa(e,t){var a=Se()(e);if(Ce.a){var n=Ce()(e);t&&(n=n.filter((function(t){return ke()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wa(a,!0).forEach((function(t){N()(e,t,a[t])})):Ee.a?ye()(e,Ee()(a)):wa(a).forEach((function(t){fe()(e,t,ke()(a,t))}))}return e}var Ia,Sa=Je.a.Content,Na=function(e){function t(e){var a;return p()(this,t),a=y()(this,E()(t).call(this,e)),N()(I()(a),"getButtonList",(function(){a.setState({butttonListLoading:!0},(function(){st({id:a.state.itemId},(function(e){a.setState({butttonListLoading:!1,buttonDataSource:e.data.list})}))}))})),a.state={title:"新增菜单",pid:"",itemId:"",type:"",values:{id:"",key:"",module:"",name:"",sort:"",type:""},moduleDetailResult:{id:"",key:"",module:"",name:"",sort:"",type:""},Visible:!1,buttonVisible:!1,addButtonVisible:!1,buttonEditState:"",butttonListLoading:!1,buttonEditData:{},buttonDataSource:[],tableListLoading:!1,tableDataSource:[]},a.moduleAdd=a.moduleAdd.bind(I()(a)),a.handleOk=a.handleOk.bind(I()(a)),a.handleCancel=a.handleCancel.bind(I()(a)),a.handleDelete=a.handleDelete.bind(I()(a)),a.handleModify=a.handleModify.bind(I()(a)),a.handleAddNode=a.handleAddNode.bind(I()(a)),a.handleChangeStatus=a.handleChangeStatus.bind(I()(a)),a.buttonList=a.buttonList.bind(I()(a)),a.addButton=a.addButton.bind(I()(a)),a.handleAdd=a.handleAdd.bind(I()(a)),a.handleAddCancel=a.handleAddCancel.bind(I()(a)),a.cancelButton=a.cancelButton.bind(I()(a)),a.editButton=a.editButton.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"componentWillMount",value:function(){sessionStorage.getItem("roleName"),this.getTableList()}},{key:"handleDelete",value:function(e){var t=this;at({id:e},(function(e){G.a.success(e.msg),t.getTableList()}))}},{key:"handleModify",value:function(e,t){var a=this;nt({id:e},(function(n){a.setState({Visible:!0,title:"修改菜单",pid:t,itemId:e,type:"modify"})}))}},{key:"handleChangeStatus",value:function(e,t){var a=this;it({id:e,status:t},(function(e){a.getTableList()}))}},{key:"moduleAdd",value:function(){this.setState({Visible:!0,title:"新增菜单",pid:"",type:"add"})}},{key:"handleAddNode",value:function(e){this.setState({Visible:!0,title:"新增子菜单",pid:e,type:"add"})}},{key:"handleOk",value:function(){this.getTableList(),this.setState({Visible:!1})}},{key:"handleCancel",value:function(){this.setState({Visible:!1,type:"add"})}},{key:"buttonList",value:function(e,t){var a=this;this.setState({buttonVisible:!0,pid:t,itemId:e},(function(){a.getButtonList()}))}},{key:"cancelButton",value:function(){this.setState({buttonVisible:!1})}},{key:"addButton",value:function(){this.setState({buttonEditState:"add",addButtonVisible:!0,title:"新增按钮权限"})}},{key:"handleAdd",value:function(e){var t=this;"add"!==this.state.buttonEditState?rt(Ca({},e,{parentId:this.state.itemId}),(function(e){G.a.success(e.msg),t.handleAddCancel()})):ot(Ca({},e,{parentId:this.state.itemId}),(function(e){G.a.success(e.msg),t.handleAddCancel()}))}},{key:"handleAddCancel",value:function(){var e=this;this.setState({addButtonVisible:!1,buttonEditData:{}},(function(){e.getButtonList()}))}},{key:"editButton",value:function(e){this.setState({buttonEditState:"edit",buttonEditData:e,addButtonVisible:!0,title:"修改按钮权限"})}},{key:"getTableList",value:function(){var e=this;this.setState({tableListLoading:!0},(function(){tt({},(function(t){e.setState({tableListLoading:!1,tableDataSource:t.data.list})}))}))}},{key:"footer",value:function(){return i.a.createElement("div",null,i.a.createElement(w.a,{type:"primary"},"确定"),i.a.createElement(w.a,null,"取消"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.buttonEditState,n=t.buttonEditData,r=t.butttonListLoading,o=t.buttonDataSource,s=t.tableListLoading,l=t.tableDataSource,c=t.moduleDetailResult,u="modify"===this.state.type?c:this.state.values;return i.a.createElement("div",{className:"page page-scrollfix page-usermanage page-modulemanage"},i.a.createElement(Je.a,null,i.a.createElement(Je.a,{className:"page-body"},i.a.createElement(Sa,null,i.a.createElement("div",{className:"page-content"},i.a.createElement(pa,{dataSource:l,loading:s,onDelete:this.handleDelete,onModify:this.handleModify,onUpdataStatus:this.handleChangeStatus,onAddNode:this.handleAddNode,buttonList:this.buttonList})),i.a.createElement("div",{className:"page-footer"},i.a.createElement("div",{className:"page-footer-buttons"},i.a.createElement(w.a,{type:"primary",onClick:this.moduleAdd}," 新增模块")))))),this.state.Visible?i.a.createElement(ya,{handleOk:this.handleOk,visible:this.state.Visible,title:this.state.title,pid:this.state.pid,itemId:this.state.itemId,values:u,type:this.state.type,onCancel:this.handleCancel}):null,this.state.buttonVisible?i.a.createElement(Ea,{visible:this.state.buttonVisible,pid:this.state.pid,itemId:this.state.itemId,addButton:this.addButton,cancelButton:this.cancelButton,editButton:this.editButton,listLoading:r,dataSource:o,updateList:function(){e.getButtonList()}}):null,this.state.addButtonVisible?i.a.createElement(ka,{title:this.state.title,visible:this.state.addButtonVisible,onCancel:this.handleAddCancel,handleAdd:this.handleAdd,state:a,buttonEditData:n}):null)}}]),t}(n.Component),Da=a(72);a(936),a(951),a(962),a(963);var Ba={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(41, 121, 255, 1)"},{offset:1,color:"rgba(0, 192, 255, 1)"}],globalCoord:!1},Ma=new Image;Ma.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKElEQVQ4jWP8//8/AwXgPxMluhkYGBhGDRg1YNQAKhnAwsDAQFF+BgBtSwUd6uvSywAAAABJRU5ErkJggg==";var Ra,Oa=Object(s.b)((function(e,t){return{config:e.config}}))(Ia=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={},a}return k()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.loadChart()}),500)}},{key:"loadChart",value:function(){this.chartObj=Da.init(this.chart);var e={tooltip:{show:!1},grid:{top:"20%",left:"5%",right:"5%",bottom:"15%"},xAxis:{data:["平均CPU\n利用率","平均内存\n利用率","平均硬盘\n利用率"],offset:15,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{color:"#fff",fontSize:14}},yAxis:{min:0,max:100,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1}},series:[{type:"bar",label:{show:!0,position:"top",padding:10,color:"#2979ff",fontSize:14,formatter:"{c}%"},itemStyle:{color:Ba},barWidth:"40%",data:[49,80,67],z:10},{type:"bar",barGap:"-100%",itemStyle:{color:{image:Ma,repeat:"repeat"},opacity:.05},barWidth:"40%",data:[100,100,100],z:5},{type:"bar",barGap:"-100%",itemStyle:{color:"#536dfe",opacity:.2},barWidth:"40%",data:[100,100,100],z:5},{name:"glyph",type:"pictorialBar",barGap:"-100%",symbolPosition:"end",symbolSize:64,symbolOffset:[0,"-150%"],data:[{value:100,symbol:"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NzgyQTBDQTI3MjcxMUU4ODA3MEFBRjc3RkNBNDJBOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NzgyQTBDQjI3MjcxMUU4ODA3MEFBRjc3RkNBNDJBOSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3ODJBMEM4MjcyNzExRTg4MDcwQUFGNzdGQ0E0MkE5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ3ODJBMEM5MjcyNzExRTg4MDcwQUFGNzdGQ0E0MkE5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+n1oX5AAACiRJREFUeNrsXUuIHUUU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"},{value:100,symbol:"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NkZDRThCRDI3MjcxMUU4OTI4QUM3NDRGMEMxNjdDMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NkZDRThCRTI3MjcxMUU4OTI4QUM3NDRGMEMxNjdDMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2RkNFOEJCMjcyNzExRTg5MjhBQzc0NEYwQzE2N0MxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ2RkNFOEJDMjcyNzExRTg5MjhBQzc0NEYwQzE2N0MxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2qH1MwAACnBJREFUeNrsXWuoVUUU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"},{value:100,symbol:"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NjczMjI5MjI3MjcxMUU4OTIzNUNGREYwREM2MEQ2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NjczMjI5MzI3MjcxMUU4OTIzNUNGREYwREM2MEQ2RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2NzMyMjkwMjcyNzExRTg5MjM1Q0ZERjBEQzYwRDZEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ2NzMyMjkxMjcyNzExRTg5MjM1Q0ZERjBEQzYwRDZEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e59NdAAACT1JREFUeNrsXTuPHEUQ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"}]}],backgroundColor:"#190c12"};this.chartObj.setOption(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"page"},i.a.createElement("div",{className:"page",ref:function(t){return e.chart=t}}))}}]),t}(n.Component))||Ia,La=a(146),ja=(a(1056),a(1057),{CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}});function Ta(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var za=Object(s.b)((function(e,t){return{config:e.config}}))(Ra=function(e){function t(e){var a;return p()(this,t),(a=y()(this,E()(t).call(this,e))).state={editorState:La.EditorState.createEmpty()},a.focus=function(){return a.editor.focus()},a.onChange=function(e){return a.setState({editorState:e})},a.handleKeyCommand=a._handleKeyCommand.bind(I()(a)),a.onTab=a._onTab.bind(I()(a)),a.toggleBlockType=a._toggleBlockType.bind(I()(a)),a.toggleInlineStyle=a._toggleInlineStyle.bind(I()(a)),a}return k()(t,e),f()(t,[{key:"_handleKeyCommand",value:function(e,t){var a=La.RichUtils.handleKeyCommand(t,e);return!!a&&(this.onChange(a),!0)}},{key:"_onTab",value:function(e){this.onChange(La.RichUtils.onTab(e,this.state.editorState,4))}},{key:"_toggleBlockType",value:function(e){this.onChange(La.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(La.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this,t=this.state.editorState,a="RichEditor-editor",n=t.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),i.a.createElement("div",{className:"RichEditor-root"},i.a.createElement(Fa,{editorState:t,onToggle:this.toggleBlockType}),i.a.createElement(Ga,{editorState:t,onToggle:this.toggleInlineStyle}),i.a.createElement("div",{className:a,onClick:this.focus},i.a.createElement(La.Editor,{blockStyleFn:Ta,customStyleMap:ja,editorState:t,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,placeholder:"Tell a story...",ref:function(t){e.editor=t},spellCheck:!0})))}}]),t}(n.Component))||Ra,Qa=function(e){function t(){var e;return p()(this,t),(e=y()(this,E()(t).call(this))).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return k()(t,e),f()(t,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),i.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),t}(i.a.Component),xa=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],Fa=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return i.a.createElement("div",{className:"RichEditor-controls"},xa.map((function(t){return i.a.createElement(Qa,{key:t.label,active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style})})))},Pa=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],Ga=function(e){var t=e.editorState.getCurrentInlineStyle();return i.a.createElement("div",{className:"RichEditor-controls"},Pa.map((function(a){return i.a.createElement(Qa,{key:a.label,active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style})})))},Va=a(127),Za=a(537),Ha=a.n(Za),Ya=a(343),Wa=a(249),Ka=function(e){return function(e){return function(t){return e(t)}}},Ja=a(242),Ua=a.n(Ja),Xa=Object(u.f)(Ua.a)({}),qa=Object(Wa.routerMiddleware)(Xa);a(343);var $a,_a,en=Object(l.hot)((function(){return i.a.createElement(u.d,{history:u.e},i.a.createElement(u.c,{path:"/",component:Ye,onEnter:d.isLogin},i.a.createElement(u.a,{component:D}),i.a.createElement(u.c,{path:"/desk$/index",component:D}),i.a.createElement(u.c,{path:"/echarts",component:Oa}),i.a.createElement(u.c,{path:"/editor",component:za}),i.a.createElement(u.c,{path:"/".concat(c.e,"/userManage"),component:Ht}),i.a.createElement(u.c,{path:"/".concat(c.e,"/roleManage"),component:ha}),i.a.createElement(u.c,{path:"/".concat(c.e,"/moduleManage"),component:Na})),i.a.createElement(u.c,{path:"/login",component:le}),i.a.createElement(u.c,{path:"*",component:ce}))})),tn=($a={},_a=window.devToolsExtension?window.devToolsExtension()(Va.d):Va.d,Object(Va.a)(qa,Ha.a,Ka)(_a)(Ya.default,$a));o.a.render(i.a.createElement(s.a,{store:tn},i.a.createElement(en,null)),document.getElementById("root"))},113:function(e,t,a){"use strict";a.r(t),a.d(t,"parseQueryString",(function(){return m})),a.d(t,"isHasCurrentMenu",(function(){return p})),a.d(t,"validateTickit",(function(){return A})),a.d(t,"getMenuId",(function(){return g})),a.d(t,"login",(function(){return y})),a.d(t,"fetchBtns",(function(){return v})),a.d(t,"isLogin",(function(){return E})),a.d(t,"createAjaxAction",(function(){return b}));a(355);var n=a(78),i=a.n(n),r=a(165),o=a.n(r),s=(a(195),a(63),a(20)),l=a(257),c=a.n(l),u=(a(588),a(384),a(31)),d=a(54);function m(e){var t={};if(-1!==e.indexOf("?")){var a=e.split("?")[1].split("&");a.map((function(e,n){var i=a[n].split("=");t[i[0]]=i[1]}))}return t}var h=function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new c.a((function(t){Object(d.d)({ticket:e},(function(e){t(e.data)}),(function(e){var t=m(window.location.href);t.ticket||t.mode?s.a.info("登录过期或服务不可用"):u.e.replace("/login")}))})));case 1:case"end":return t.stop()}}))},p=function(e,t){return f(e,t)},A=function(e,t){var a,n,r,l,m;return o.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(a=e.query,e.pathname,!(n=a.ticket)){p.next=9;break}return p.next=5,o.a.awrap(h(n));case 5:r=p.sent,sessionStorage.setItem("token",r.token),p.next=9;break;case 9:return l=new c.a((function(e){Object(d.g)({},(function(t){var a=t.data;sessionStorage.setItem("userinfo",i()(a)),e()}))})),m=new c.a((function(e){nav({},(function(t){var a=t.data.list;if(0===a.length)return s.a.info("该账户没有任何菜单权限，请联系管理员"),void u.e.replace("/login");sessionStorage.setItem("menu",i()(a)),e()}))})),p.next=13,o.a.awrap(l);case 13:return p.next=15,o.a.awrap(m);case 15:"function"==typeof t&&t();case 16:case"end":return p.stop()}}))};function f(e,t){for(var a=0;a<e.length;a+=1){var n=e[a],i="".concat(n.resKey.replace(/[\$\.\?\+\^\[\]\(\)\{\}\|\\\/]/g,"\\$&").replace(/\*\*/g,"[\\w|\\W]+").replace(/\*/g,"[^\\/]+"),"$");if(new RegExp(i).test(t))return sessionStorage.setItem("menuId",n.id),!0;if(n.children&&f(n.children,t))return!0}return!1}var g=function(e,t){e&&e.length>0&&f(e,t)},y=function(e,t,a){Object(d.b)(e,(function(e){sessionStorage.setItem("token",e.data.token),localStorage.setItem("sessionStorage",i()(sessionStorage)),"function"==typeof t&&t(e)}),(function(e){"function"==typeof a&&a(e)}))},v=function(e,t){Object(d.a)({id:sessionStorage.getItem("menuId")},(function(e){var a={};e.data.list.map((function(e){a[e.resKey]=!0})),"function"==typeof t&&t(a)}))},E=function(e,t){e.location.query&&e.location.query.ticket&&sessionStorage.setItem("token","ticket"),e.location.query&&e.location.query.key&&sessionStorage.setItem("token","key"),sessionStorage.getItem("token")||t("/login")},b=function(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return function(s){t&&s(t({req:n,res:{}}));return e(n,(function(e){a&&s(a({req:n,res:e})),i&&i(e)}),r,o)}}}},21:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var n="set$",i="React",r="http://192.168.1.222",o="1111",s="".concat(r,":").concat(o);o="1111",s="".concat(r="http://192.168.1.123",":").concat(o);var l="/mock",c="15000",u=s,d="http://localhost:1111/"},27:function(e,t,a){"use strict";a.d(t,"a",(function(){return B}));var n=a(45),i=a.n(n),r=a(47),o=a.n(r),s=a(33),l=a.n(s),c=a(34),u=a.n(c),d=a(35),m=a.n(d),h=a(40),p=a.n(h),A=(a(389),a(151),a(5)),f=a.n(A),g=(a(195),a(63),a(20)),y=a(258),v=a.n(y),E=a(31),b=a(21),k=a(113);function w(e,t){var a=p()(e);if(m.a){var n=m()(e);t&&(n=n.filter((function(t){return u()(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){f()(e,t,a[t])})):l.a?o()(e,l()(a)):w(a).forEach((function(t){i()(e,t,u()(a,t))}))}return e}var I=v.a.CancelToken,S=!0;function N(e){S&&(g.a.warning(e||"用户登录过期或从其他浏览器登录"),E.e.replace("/login"),S=!1,setTimeout((function(){return S=!0}),0))}var D={url:"/",method:"post",baseURL:"",headers:{"Content-Type":"text/plain"},params:{},data:{},timeout:"",withCredentials:!0,responseType:"json",maxContentLength:2e3,validateStatus:function(e){return e>=200&&e<300}};D=C({},D,{timeout:b.f,baseURL:b.a});var B=function(e,t){var a=Object(k.parseQueryString)(window.location.href),n=e;return a.key&&(n="".concat(e,"?key=").concat(a.key),a.sourceName&&(n="".concat(e,"?key=").concat(a.key,"&sourceName=").concat(a.sourceName))),function(e,t){return"function"==typeof e?e:function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];for(var r=n[0]||{},o=(sessionStorage.getItem("token"),null),s=null,l=null,c=1;c<n.length;c+=1)"function"==typeof n[c]&&(o?s=n[c]:o=n[c]),"[object Object]"===Object.prototype.toString.call(n[c])&&(l=n[c]);var u={abort:null},d=new I((function(e){u.abort=e}));return t&&-1!==t.baseURL.indexOf("12602")?D.withCredentials=!1:D.withCredentials=!0,v()(C({},D,{},t,{},l,{url:e,data:r,cancelToken:d})).then((function(e){return e.data})).then((function(e){switch(e.status){case 1:o&&o(e);break;case 0:"function"==typeof s?s(e):"系统内部错误!"===e.msg?g.a.error(e.msg):g.a.warning(e.msg);break;case-1:"function"==typeof s&&s(e),N(e.msg);break;default:"function"==typeof s?s(e):N()}})).catch((function(e){v.a.isCancel(e)||"function"==typeof s&&("ECONNABORTED"===e.code?s({data:"",msg:"服务器连接超时",status:0}):s({data:"",msg:e.message,status:0}))})),u}}("".concat(n),t)}},343:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"default",(function(){return M}));var i={};a.r(i),a.d(i,"loginResponse",(function(){return L})),a.d(i,"gFormCache2",(function(){return j})),a.d(i,"allRetrievalResult",(function(){return T}));var r=a(45),o=a.n(r),s=a(47),l=a.n(s),c=a(33),u=a.n(c),d=a(34),m=a.n(d),h=a(35),p=a.n(h),A=a(40),f=a.n(A),g=a(5),y=a.n(g),v=a(249),E=a(127),b=a(78),k=a.n(b),w=a(538),C=a.n(w),I=(a(414),a(96));function S(e,t){var a=f()(e);if(p.a){var n=p()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){y()(e,t,a[t])})):u.a?l()(e,u()(a)):S(a).forEach((function(t){o()(e,t,m()(a,t))}))}return e}var D=JSON.parse(sessionStorage.getItem("tabList")),B={list:D?D.list:[],activeKey:D?D.activeKey:""},M=Object(I.b)({"request tab list":function(e,t){return N({},e,{loading:!1})},"update tab list":function(e,t){var a=t.payload,n=void 0===e.list.find((function(e){return e.key===a.key}))?[].concat(C()(e.list),[a]):e.list;return sessionStorage.setItem("tabList",k()({list:n,activeKey:a.key,loading:!1})),{list:n,activeKey:a.key,loading:!1}},"update tab checked":function(e,t){var a=t.payload.activeKey;return sessionStorage.setItem("tabList",k()(N({},e,{activeKey:a,loading:!1}))),N({},e,{activeKey:a,loading:!1})},"delete tab from list":function(e,t){var a=t.payload.targetKey,n=[],i=0,r=e.activeKey;return e.list.map((function(e,t){e.key===a?i=t:n.push(e)})),e.activeKey===a&&(r=n[i]?n[i].key:n[i-1]?n[i-1].key:""),sessionStorage.setItem("tabList",k()({list:n,activeKey:r,loading:!1})),{list:n,activeKey:r,loading:!1}}},B);function R(e,t){var a=f()(e);if(p.a){var n=p()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){y()(e,t,a[t])})):u.a?l()(e,u()(a)):R(a).forEach((function(t){o()(e,t,m()(a,t))}))}return e}var L=Object(I.b)({"request login":function(e,t){return O({},e,{loading:!0})},"receive login":function(e,t){var a=t.payload;a.req;return{data:a.res,loading:!1}}},{}),j=Object(I.b)({"set gform cache2":function(e,t){var a=t.payload,n=a.cacheKey,i=a.cacheContent;if(void 0===n)throw new Error("cacheKey不能是undefined");if(void 0===i)throw new Error("cacheContent不能是undefined");return e[n]=O({},e[n],{},i),O({},e)},"clear gform cache2":function(e,t){return{}}},{}),T=Object(I.b)({"request all retrieval":function(e,t){return O({},e,{loading:!0})},"receive all retrieval":function(e,t){var a=t.payload;a.req;return O({},a.res.data,{loading:!1})}},{list:[]});function z(e,t){var a=f()(e);if(p.a){var n=p()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),a.push.apply(a,n)}return a}var Q=Object(E.c)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){y()(e,t,a[t])})):u.a?l()(e,u()(a)):z(a).forEach((function(t){o()(e,t,m()(a,t))}))}return e}({routing:v.routerReducer,config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}},n,{},i));t.default=Q},418:function(e,t,a){},527:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABA4AAAEYCAYAAADcabRhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5OTRhYTBmYy01N2M2LTNmNDMtOGU5NS0xMDMyN2FjY2FlY2YiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUEyNzcyOTE2QjA3MTFFODgzQUJEQ0FGRkNDREMxRjAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUEyNzcyOTA2QjA3MTFFODgzQUJEQ0FGRkNDREMxRjAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk5NGFhMGZjLTU3YzYtM2Y0My04ZTk1LTEwMzI3YWNjYWVjZiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OTRhYTBmYy01N2M2LTNmNDMtOGU5NS0xMDMyN2FjY2FlY2YiLz4gPC9y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"},54:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return h})),a.d(t,"a",(function(){return p}));var n=a(27),i=a(21),r="usercenter",o={baseURL:i.c},s=Object(n.a)("".concat(i.d,"/").concat(r,"/login"),o),l=Object(n.a)("".concat(i.d,"/").concat(r,"/logout"),o),c=Object(n.a)("".concat(i.d,"/").concat(r,"/loginByTicket"),o),u=Object(n.a)("".concat(i.d,"/service/pagerservice/checkKey"),o),d=Object(n.a)("".concat(i.d,"/").concat(r,"/user/userInfo"),o),m=Object(n.a)("".concat(i.d,"/").concat(r,"/user/synUser"),o),h=Object(n.a)("".concat(i.d,"/").concat(r,"/user/userMenu"),o),p=(Object(n.a)("".concat(i.d,"/").concat(r,"/user/getLevel"),o),Object(n.a)("".concat(i.d,"/").concat(r,"/resource/listByPid"),o));Object(n.a)("".concat(i.d,"/data/sys/retrieval/queryAllRetrievald"))},654:function(e,t,a){},659:function(e,t,a){},744:function(e,t,a){},751:function(e,t,a){},752:function(e,t,a){}},[[1070,3,1,2,4]]]);